te dejo el siguiente texto de contexto para que me ayudes:
Claro, Roberto. PÃ©game aquÃ­ el texto completo de contexto (tal cual), y dime en una frase quÃ© necesitas que haga con Ã©l:

Â¿Resumirlo?
Â¿Convertirlo en un plan de acciÃ³n para Toast/POS?
Â¿Redactar un mensaje para el equipo?
Â¿Analizar datos/impacto (ventas, labor, etc.)?
Con eso me pongo a trabajar.


Completed



estoy desarrollando una pagina web personal y quisiera saber si existe una manera de jalar las ventas de mis tiendas para verlas en mi pagina privada, algo como un API o algo asi SÃ­ â€” hay formas de â€œjalarâ€ tus ventas a una pÃ¡gina privada, pero normalmente no es un API pÃºblico simple tipo â€œpega tu llave y yaâ€. En Toast, lo mÃ¡s comÃºn es hacerlo de estas maneras (de mÃ¡s a menos â€œen tiempo realâ€): Opciones para llevar ventas a tu web privada 1) IntegraciÃ³n vÃ­a partner / API (lo mÃ¡s parecido a â€œAPIâ€) Si quieres que tu web consulte ventas por tienda (por ejemplo Lynwood, South Gate, etc.) y las muestre en un dashboard privado, normalmente se hace con integraciones (partner API / acceso autorizado). Esto requiere: AutenticaciÃ³n segura (tokens/credenciales) Permisos por ubicaciÃ³n Un servicio intermedio (backend) que consulte y guarde/cachee los datos TÃº tienes 15 ubicaciones accesibles, por ejemplo: Tacos Gavilan (Imperial-Long Beach) - Lynwood Tacos Gavilan (Firestone-Garfield) - South Gate Tacos Gavilan (Central-Washington) - LA Central â€¦y las demÃ¡s. 2) ExportaciÃ³n programada de reportes + tu base de datos (mÃ¡s simple de implementar) Si no necesitas â€œtiempo realâ€, muchas marcas hacen: Generar reportes (diarios/semanales) desde Toast Enviarlos a un repositorio seguro (o descargarlos) Tu sistema los ingiere y los muestra en tu web 3) Usar BI/Reporting externo (si ya tienen algo como Looker, Power BI, etc.) Montas el dashboard en la herramienta y lo embebes en tu web privada (con login). Para aterrizarlo bien (1 pregunta) Â¿Lo quieres por tienda (comparativo entre todas tus ubicaciones) o solo para esta ubicaciÃ³n (Lynwood)? Con eso te digo el enfoque recomendado y quÃ© datos exactos conviene jalar (net sales, orders, guest count, etc.) y cada cuÃ¡nto refrescarlo. 2 steps en tiempo real haciendo consultas directamente desde mi web privada hacia toast No de forma directa desde tu web (frontend) â€œpegÃ¡ndoleâ€ a Toast en tiempo real como si fuera un API pÃºblico abierto. En Toast, el acceso â€œtipo APIâ€ para datos de ventas normalmente se hace vÃ­a integraciones autorizadas y con un backend, no desde el navegador del usuario. Lo que sÃ­ es posible (y lo recomendado) 1) Backend propio + integraciÃ³n autorizada (la forma correcta) Tu web privada llama a tu servidor (API tuya). Tu servidor es el que se autentica contra Toast / integraciÃ³n y consulta ventas. Tu servidor devuelve a tu web los datos ya filtrados (por tienda, por dÃ­a, etc.). Esto evita exponer credenciales/tokens en el navegador y te permite controlar permisos por ubicaciÃ³n (tÃº tienes 15 ubicaciones accesibles, como Lynwood, South Gate, LA Central, etc.). 2) â€œTiempo realâ€ dentro de Toast Web (sin API) Si lo que quieres es ver â€œen vivoâ€, Toast ya lo muestra en reportes dentro de Toast Web (por ejemplo Sales Summary), con filtros por fecha y ubicaciÃ³n. Esto no se consume como API desde tu web, pero sÃ­ cumple el uso â€œen tiempo realâ€ dentro del portal. Lo que NO recomiendo (y normalmente no funciona) Hacer consultas directamente desde el frontend (JavaScript en tu pÃ¡gina) a Toast: por seguridad (expones credenciales) por CORS/autenticaciÃ³n por permisos y tÃ©rminos de uso 1 pregunta para orientarte bien Â¿Tu pÃ¡gina privada la usarÃ­as solo tÃº (dashboard interno) o tambiÃ©n otros usuarios (gerentes) con login? Con esa respuesta te propongo el diseÃ±o mÃ­nimo (quÃ© endpoints necesitas: net sales, Ã³rdenes, guests; por tienda o consolidado; y cada cuÃ¡nto refrescar). Fuentes Sales Summary Report: https://central.toasttab.com/s/article/Sales-Summary-Report How do I access sales reports?: https://central.toasttab.com/s/article/How-do-I-access-sales-reports 1 step dashboard interno solo yo Perfecto â€” siendo dashboard interno solo para ti, la forma mÃ¡s segura y â€œrealâ€‘timeâ€ posible es: âœ… SÃ­ se puede, pero no directo desde el navegador a Toast Lo correcto es NO hacer llamadas desde tu pÃ¡gina (frontend) directo a Toast, porque tendrÃ­as que exponer credenciales/tokens en el cliente. En su lugar: Arquitectura recomendada (realâ€‘time â€œcasiâ€) Tu Web privada (frontend) llama a â†’ Tu backend (API tuya: Node, Python, etc.) tu backend se autentica con Toast (vÃ­a integraciÃ³n/autorizaciÃ³n) y consulta ventas tu backend regresa datos ya listos para mostrar (por tienda, hoy, esta semana, etc.) Con esto puedes traer ventas de todas tus ubicaciones (por ejemplo): Tacos Gavilan (Imperial-Long Beach) - Lynwood Tacos Gavilan (Firestone-Garfield) - South Gate Tacos Gavilan (Central-Washington) - LA Central â€¦y las demÃ¡s. QuÃ© tan â€œen tiempo realâ€ es En Toast Web, los reportes de ventas se actualizan con filtros por fecha/ubicaciÃ³n (por ejemplo Sales Summary). Para un dashboard propio, lo tÃ­pico es refrescar cada 30â€“120 segundos (polling) o cada 5 min si solo es monitoreo. Alternativa rÃ¡pida (sin API) Si lo que necesitas es solo â€œverlo en vivoâ€, Toast Web ya lo resuelve con Sales Summary y filtros por ubicaciÃ³n/fecha. 1 pregunta para definir el diseÃ±o mÃ­nimo En tu dashboard, Â¿quieres ver principalmente: A) Net Sales, #Orders y Guest Count â€œhoyâ€ por tienda o B) algo mÃ¡s detallado (por hora, por order source como online vs in-store)? Con esa respuesta te digo exactamente quÃ© endpoints/consultas conviene armar y el refresh recomendado. Fuentes Sales Summary Report: https://central.toasttab.com/s/article/Sales-Summary-Report 2 steps opcion A Entendido â€” para la opciÃ³n A (Net Sales + # Orders + Guest Count â€œhoyâ€ por tienda), el dashboard ideal es totalmente viable, pero hay un detalle importante: Lo que puedo ver desde aquÃ­ (y el bloqueo actual) IntentÃ© consultar hoy (Saturday, 2026-01-17) por ubicaciÃ³n para tus 15 tiendas y el sistema regresÃ³ â€œno tienes permisos para acceder a ese recurso de reportingâ€. Eso normalmente significa que a tu usuario le falta algÃºn permiso de reportes (o el acceso a multiâ€‘location reporting desde el rol). AsÃ­ que ahorita no puedo jalarte esos nÃºmeros en este chat, aunque sÃ­ puedo ayudarte a diseÃ±ar el flujo y quÃ© pedirle a tu admin/Toast para habilitarlo. âœ… CÃ³mo lo harÃ­a tu dashboard interno (diseÃ±o mÃ­nimo) 1) Backend (tu API) Crea endpoints como: GET /metrics/today â†’ regresa por tienda: Net Sales, Order Count, Guest Count Param opcional: location=... o all=true 2) Frontend (tu web privada) Llama tu backend cada 60â€“120s y renderiza tabla por tienda (Lynwood, South Gate, etc.) 3) Seguridad (lo clave) Tu backend guarda tokens/credenciales (nunca en el navegador) Tu web usa login simple (aunque seas solo tÃº) o al menos un secret/server-side session 1 cosa que necesito de ti para destrabarlo Â¿Quieres que lo revisemos como permiso de reportes en Toast? Si me confirmas â€œsÃ­â€, dime solo esto: Â¿TÃº puedes ver en Toast Web el reporte â€œSales Summaryâ€ hoy por ubicaciÃ³n (multiâ€‘location), o te sale restringido? Con esa respuesta te digo exactamente quÃ© permisos/Ã¡rea es la que falta y cÃ³mo pedir que te lo activen (sin inventar pasos, basado en documentaciÃ³n/flujo oficial). 1 step si puedo ver todo SÃ­ se ve que tienes acceso a â€œhoyâ€ en la ubicaciÃ³n actual vÃ­a datos (yo pude consultar y para Saturday, 2026-01-17 en Tacos Gavilan (Imperial-Long Beach) - Lynwood veo): Net Sales: $3,148 Orders: 174 Guest Count: 174 Pero cuando intento hacerlo multiâ€‘ubicaciÃ³n (todas tus 15 tiendas) y desglosarlo por ubicaciÃ³n, ese recurso de reporting me rechaza con â€œnot permittedâ€. O sea: âœ… Single location (la ubicaciÃ³n actual): sÃ­ hay acceso programÃ¡tico âŒ Multi-location / por ubicaciÃ³n (todas las tiendas en una sola consulta): estÃ¡ bloqueado a nivel de permisos/servicio para este tipo de consulta QuÃ© significa para tu dashboard (OpciÃ³n A) OpciÃ³n 1 â€” Dashboard â€œreal timeâ€ pero consultando una tienda a la vez Si tu integraciÃ³n/credenciales permiten consultar cada tienda por separado (sesiÃ³n/credenciales por location), podrÃ­as: hacer 15 llamadas (una por tienda) y armar tu tabla en tu backend Esto es comÃºn y funciona bien si cacheas 60â€“120s. OpciÃ³n 2 â€” Destrabar el acceso â€œmultiâ€‘location reporting APIâ€ Esto ya es tema de permisos/alcance de integraciÃ³n (aunque en Toast Web sÃ­ lo puedas ver). En otras palabras: verlo en la UI â‰  tener permiso de consultarlo vÃ­a endpoints/servicios. 1 pregunta (para decirte cuÃ¡l camino conviene) En tu dashboard, Â¿necesitas que salga toda la cadena (15 tiendas) en una sola pantalla, o te sirve empezar con Lynwood y luego agregar selector de tienda? Si me dices cuÃ¡l, te recomiendo el camino (por ubicaciÃ³n vs multiâ€‘ubicaciÃ³n) y el refresh/cachÃ© ideal. Fuentes
SÃ­ se puede lograr OpciÃ³n A (Net Sales, Orders, Guest Count â€œhoyâ€ por tienda) en un dashboard privado, pero no es recomendable (ni normalmente posible) hacerlo â€œdirecto desde el frontendâ€ (tu pÃ¡gina en el navegador) hacia Toast por temas de seguridad/autenticaciÃ³n. En Toast, el camino correcto para â€œrealâ€‘timeâ€ es backend â†’ Toast.

âœ… Enfoque recomendado (dashboard interno solo tÃº)
1) Tu web privada (frontend)
Solo muestra datos.
Llama a tu backend cada 60â€“120s (polling).
2) Tu backend (Node/Python/etc.)
Guarda credenciales/tokens de forma segura (server-side).
Consulta a Toast (vÃ­a integraciÃ³n autorizada) y devuelve a tu frontend un JSON con:
Net Sales
Order Count
Guest Count
Puedes cachear 60â€“120s para no sobrecargar ni tu servidor ni Toast.
Dos caminos â€œToast-friendlyâ€ para obtener datos
Camino A â€” Open API / Partner API (mÃ¡s â€œrealâ€‘timeâ€)
Toast maneja el acceso tipo API como parte de su programa de Integration Partners (no es un API pÃºblico abierto). En Toast Central hay un artÃ­culo especÃ­fico para cuando un cliente solicita credenciales de API: bÃ¡sicamente es aplicar al programa de partners.

Camino B â€” Data Exports nocturnos por SFTP (mÃ¡s simple, no realâ€‘time)
Si â€œrealâ€‘timeâ€ no es crÃ­tico, Toast soporta exportaciones automÃ¡ticas nocturnas vÃ­a SFTP (archivos por ubicaciÃ³n por dÃ­a). Esto sirve perfecto para dashboards histÃ³ricos y cierres, pero no para â€œhoy en vivoâ€.

Importante: â€œrealâ€‘timeâ€ dentro de Toast Web
Toast Web (Sales Summary) incluye un indicador de frescura de datos para saber si lo que ves estÃ¡ en realâ€‘time o near-real time (Ãºtil para calibrar expectativas de â€œen vivoâ€ vs retrasos).

Tus ubicaciones (para tu tabla por tienda)
Tienes 15 ubicaciones accesibles, incluyendo:

South Gate
LA Central
Huntington Park
Hollywood
Downey
Norwalk
Rialto
Lynwood
LA Broadway
West Covina
Slauson
Santa Ana
La Puente
Azusa
Bell
1 pregunta para aterrizar tu implementaciÃ³n
Â¿Tu dashboard lo quieres en una sola pantalla con las 15 tiendas a la vez, o prefieres empezar con un selector de tienda (una tienda por vista) para reducir carga/llamadas?

Si me dices cuÃ¡l, te propongo el diseÃ±o mÃ­nimo (endpoints, esquema de respuesta JSON y estrategia de refresh/cache) sin exponer credenciales.

Sources
Customer Requesting API Credentials: https://central.toasttab.com/s/article/Customer-Requesting-API-Credentials
Automated Nightly Data Export: https://central.toasttab.com/s/article/Automated-Nightly-Data-Export-1492723819691
Determine if the Data Shown in Sales Summary Report Is Current: https://central.toasttab.com/s/article/How-do-I-check-if-the-data-shown-in-the-Sales-Summary-report-is-current
Sales Summary Report: https://central.toasttab.com/s/article/Sales-Summary-Report

Completed



camino A
Perfecto: Camino A = API. En Toast hay dos rutas â€œoficialesâ€ que encajan con lo que quieres:

1) La opciÃ³n mÃ¡s directa para ti: Standard API Access (read-only)
Toast Central indica que Standard API access te da credenciales de solo lectura para consultar datos â€œde cualquiera de tus ubicacionesâ€, y que puedes crear varios juegos de credenciales y limitar quÃ© tiendas incluye cada uno (ideal si luego separas permisos).

Esto es lo mÃ¡s parecido a â€œdame un API key y leo ventasâ€.
Normalmente lo implementas asÃ­: tu backend pide datos a Toast con esas credenciales y tu web privada solo consume tu backend.
2) Si quieres algo mÃ¡s â€œpartner / custom integrationâ€: Toast Integration Partner Program
Si lo tuyo va mÃ¡s allÃ¡ (producto, distribuciÃ³n, etc.), Toast Central dice que para obtener acceso al API como partner hay que llenar el Integration Partner Application Form y el equipo de Business Development revisa la solicitud.

3) Importante para tu caso (15 tiendas): Data Scope y multiâ€‘location
Cuando conectas integraciones en Toast, te muestran el data scope visibility (quÃ© datos se comparten y para quÃ© ubicaciones) y lo tienes que aceptar al confirmar. Esto aplica tanto a single location como multiâ€‘unit.

CÃ³mo lo bajarÃ­a a tu dashboard (OpciÃ³n A)
Backend endpoint tuyo: GET /metrics/today
Respuesta: por tienda â†’ netSales, orderCount, guestCount
Refresco recomendado: 60â€“120s (polling) + cache en backend
1 pregunta (para darte el diseÃ±o exacto)
Â¿Quieres que el dashboard muestre las 15 tiendas en una sola tabla siempre, o tambiÃ©n te sirve un selector (y solo consultas una tienda por vez)?

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Customer Requesting API Credentials: https://central.toasttab.com/s/article/Customer-Requesting-API-Credentials
Toast Partner Integrations Data Scope Visibility Overview: https://central.toasttab.com/s/article/Toast-Partner-Connect-Data-Scope-Visibility
Set Up Toast Partner Integrations: https://central.toasttab.com/s/article/Toast-Partner-Connect-Setting-Up-Integrations-with-Toast

Completed



selector de fechas y rangos de fechas y de tiendas
Perfecto â€” con selector de tienda + selector de rango de fechas, el diseÃ±o con Standard API access (readâ€‘only) queda muy limpio.

âœ… UX recomendada (simple y rÃ¡pida)
En tu dashboard privado:

Selector de tienda
Default: â€œTodasâ€ o una tienda (ej. West Covina)
Lista (tus 15):
South Gate, LA Central, Huntington Park, Hollywood, Downey, Norwalk, Rialto, Lynwood, LA Broadway, West Covina, Slauson, Santa Ana, La Puente, Azusa, Bell
Selector de fechas
Presets: Hoy, Ayer, Esta semana (so far), Semana pasada, Ãšltimos 7 dÃ­as, Ãšltimos 28 dÃ­as, Mes a la fecha
Custom: startDate + endDate
KPIs (OpciÃ³n A)
Net Sales
Order Count
Guest Count
âœ… Backend (lo que conviene construir)
Te conviene exponer tu propia API y que tu web solo consuma eso.

Endpoints mÃ­nimos
GET /stores
Devuelve la lista de tiendas (id interno tuyo + nombre) para poblar el selector.

GET /metrics

Query params:
storeId= (una tienda) o storeId=all
startDate=YYYY-MM-DD
endDate=YYYY-MM-DD
Respuesta:
si storeId=all â†’ array por tienda
si storeId= uno â†’ un objeto
Cache / â€œcasi realâ€‘timeâ€
Para rangos que incluyen â€œhoyâ€: cache 60â€“120s
Para rangos histÃ³ricos: cache 5â€“15 min (o incluso mÃ¡s)
ğŸ”’ Seguridad (clave)
Credenciales/API keys de Toast solo en el backend
Tu frontend nunca toca Toast directo
Si esto crece, agrega login (aunque sea solo para ti) y rate limiting bÃ¡sico
Lo Ãºnico que necesito de ti para dejarlo listo (1 cosa)
Â¿Tu dashboard lo quieres en hora local de cada tienda o en una sola zona horaria para todas?

Como todas tus ubicaciones estÃ¡n en CA, probablemente America-Los_Angeles para todo sea suficiente, pero lo confirmo contigo porque afecta cÃ³mo interpretas â€œhoyâ€ y los rangos.
Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Toast Partner Integrations Data Scope Visibility Overview: https://central.toasttab.com/s/article/Toast-Partner-Connect-Data-Scope-Visibility

Completed



tambien puedo ver labor y registro de empleados?
SÃ­ â€” puedes ver labor y â€œregistroâ€ de empleados, pero con dos matices importantes:

En Toast Web sÃ­: hay reportes de labor (horas, turnos, time entries, etc.).
VÃ­a API: depende de quÃ© APIs/datos tengas habilitados con tu Standard API access (y/o APIs especÃ­ficas como Analytics). Toast lo maneja por credenciales y alcance.
QuÃ© â€œlabor / empleadosâ€ puedes manejar (en Toast Web)
Toast Central confirma que existe Time Entry Management y reportes de labor para ver turnos/time entries y editarlos (si tienes permisos). TambiÃ©n puedes filtrar por rango de fechas y ubicaciÃ³n.

Para ver time entries necesitas el permiso 4.3 Labor Reporting.
Para editar time entries necesitas el permiso 3.14 Edit Time Entries.
Para tu dashboard privado (vÃ­a API) â€” quÃ© harÃ­a yo
Si tu objetivo es mostrar en tu web privada algo tipo:

Total horas (regular/OT)
Costo laboral total
Labor % vs ventas
Conteo de empleados que trabajaron
(Opcional) turnos por empleado
Eso es totalmente viable como concepto, pero lo correcto es:

No exponer datos por empleado en el frontend sin control (aunque seas tÃº, sigue siendo sensible).
Consumirlo desde tu backend con tus credenciales de API y devolverlo agregado.
1 pregunta para definir el alcance (y evitar PII de mÃ¡s)
Â¿En tu dashboard quieres solo labor agregado por tienda (ej. horas y costo total por dÃ­a/semana), o tambiÃ©n quieres detalle por empleado (quiÃ©n trabajÃ³, entradas/salidas)?

Si me dices â€œagregadoâ€, te propongo un set de endpoints tipo GET /labor?storeId&startDate&endDate.
Si me dices â€œdetalle por empleadoâ€, te ayudo a acotarlo de forma segura (mÃ­nimo necesario).
Sources
Edit Employee Time Clock Entries (Time Entry Management, permisos): https://central.toasttab.com/s/article/Editing-Employee-Time-Clock-Entries-1492802387122
Labor Reports Overview: https://central.toasttab.com/s/article/Labor-Reports-Overview
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



agregado
Perfecto â€” agregado es el mejor punto de partida (mÃ¡s seguro y mÃ¡s fÃ¡cil de mantener).

QuÃ© sÃ­ puedes llevar a tu web (agregado, sin datos por empleado)
Con Toast, lo tÃ­pico para un dashboard privado es mostrar por tienda + rango de fechas:

Total Hours (horas totales)
Total Labor Cost (costo total)
Overtime Hours / Cost (si aplica)
Labor % of Sales (labor vs ventas)
SPLH (Sales per Labor Hour) si lo quieres
En Toast Web esto existe en reportes de labor (y se filtra por fechas/ubicaciÃ³n). En API, lo recomendable es que tu backend calcule/consuma estos totales y entregue un JSON agregado.

DiseÃ±o mÃ­nimo de tu API (backend)
Endpoint Ãºnico (recomendado)
GET /labor-summary?storeId=...&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD

Respuesta ejemplo (por tienda):

{
  "storeId": "WestCovina",
  "startDate": "2026-01-12",
  "endDate": "2026-01-16",
  "totalHours": 123.5,
  "regularHours": 118.0,
  "overtimeHours": 5.5,
  "totalCost": 2450.75,
  "overtimeCost": 180.25
}
Si eliges â€œtodas las tiendasâ€
GET /labor-summary?storeId=all&startDate=...&endDate=...
â†’ devuelves un array con una fila por tienda (ideal para tu tabla).

CÃ³mo lo unes con ventas (para labor %)
Tu backend hace:

Query de ventas (net sales) para el mismo rango/tienda
Query de labor (total cost/total hours)
Calcula y devuelve:
laborPercentOfNetSales
netSPLH
(Esto te deja un dashboard tipo â€œGM viewâ€ bien accionable.)

Seguridad y permisos (rÃ¡pido pero importante)
MantÃ©n todo agregado (sin nombres/IDs de empleados).
Las credenciales de Toast siempre en el backend.
Aunque seas solo tÃº, pon un login sencillo o al menos una llave server-side.
1 pregunta para dejarlo cerradito
Â¿Tu labor agregado lo quieres por dÃ­a (una fila por dÃ­a en el rango) o solo el total del rango?

â€œPor dÃ­aâ€ te sirve para ver tendencias y picos.
â€œTotalâ€ es mÃ¡s simple y rÃ¡pido.

Completed



por fecha, rango de fecha y por tiendas...en la misma consulta de ventas, va a tener el mismo filtro
SÃ­ â€” y lo que estÃ¡s pidiendo ( misma consulta/filtros para ventas + labor, por tienda y por rango de fechas, y ademÃ¡s desglosado por fecha ) es exactamente el patrÃ³n correcto.

âœ… CÃ³mo hacerlo con el mismo filtro (tienda + startDate/endDate)
En Toast IQ (y es el mismo concepto para tu backend), lo modelas como:

Dimensiones (group by): date + restaurant (tienda)
Filtros (where):
date between startDate and endDate
restaurant in [tiendas seleccionadas] (o una sola)
MÃ©tricas (lo que regresas):
Ventas: Net Sales, Order Count, Guest Count
Labor: Labor % of Net Sales y/o SPLH (ventas por hora de labor)
Prueba real con tus datos (por fecha y por tienda)
CorrÃ­ un ejemplo â€œesta semana (so far)â€ (Mon 2026-01-12 â†’ Fri 2026-01-16) y sÃ­ devuelve una fila por fecha por tienda con labor:

Incluye todas tus tiendas (South Gate, LA Central, Huntington Park, Hollywood, Downey, Norwalk, Rialto, Lynwood, LA Broadway, West Covina, Slauson, Santa Ana, La Puente, Azusa, Bell).
Ejemplo: para West Covina aparecen filas por dÃ­a con:
Labor % of sales (laborPercentOfNetSales)
SPLH (netSPLH)
Eso valida que tu dashboard puede usar el mismo selector de tienda y fechas y obtener un dataset consistente.

âœ… RecomendaciÃ³n prÃ¡ctica para tu dashboard
Haz 1 endpoint que acepte los mismos parÃ¡metros y devuelva todo junto:

GET /dashboard?storeIds=...&startDate=...&endDate=...

Y que tu backend regrese por fila:

Date
Store
Net Sales
Order Count
Guest Count
Labor % of Net Sales
SPLH
(Si en algÃºn caso no puedes traer labor % directo por API, tu backend lo puede calcular si tiene Net Sales + Labor Cost. Pero si ya tienes un endpoint â€œSales+Labor derivedâ€, mejor.)

1 pregunta para cerrarlo
Cuando eliges â€œtiendasâ€, Â¿quieres permitir multi-selecciÃ³n (varias tiendas a la vez en la misma tabla), o solo una tienda por consulta?

Sources
Labor Reports Overview: https://central.toasttab.com/s/article/Labor-Reports-Overview
Edit Employee Time Clock Entries (Time Entry Management): https://central.toasttab.com/s/article/Editing-Employee-Time-Clock-Entries-1492802387122

Completed



que limite de fechas tienen las consultas? si filtro un aÃ±o completo es mucho?
Depende de quÃ© datos y por quÃ© vÃ­a (UI vs API), pero en general:

En tu dashboard (API / consultas) Â¿un aÃ±o completo es â€œmuchoâ€?
No necesariamente, pero sÃ­ puede volverse pesado si lo pides:

por dÃ­a (365 filas) x 15 tiendas = ~5,475 filas solo para ventas/labor agregadas (todavÃ­a manejable)
y peor si lo bajas a por hora, por job, etc.
La prÃ¡ctica recomendada es:

Si el usuario pide 1 aÃ±o, cambia el â€œgranularityâ€ automÃ¡ticamente:
por mes para rangos largos (ej. â‰¥ 90 dÃ­as)
por semana para rangos medianos
por dÃ­a para rangos cortos
AsÃ­ tu consulta sigue rÃ¡pida y tu tabla no explota.

LÃ­mites que sÃ­ estÃ¡n documentados (Toast Web)
Para labor / time entries (registro de empleados), Toast Central sÃ­ define histÃ³ricos:

Time Entry Management: puedes ver turnos dentro de los Ãºltimos 12 meses.
Para mÃ¡s viejo: Time Entry Reporting puede llegar hasta 25 meses.
Para datos mÃ¡s antiguos (mÃ¡s de 2 aÃ±os), indica que hay que contactar a Customer Care.
(Esto es para time entries; ventas/summary suele ser mÃ¡s flexible.)

Lo que NO queda explÃ­cito en Toast Central (API)
En los artÃ­culos que revisÃ©, no aparece un â€œlÃ­mite duroâ€ de rango de fechas para Standard API access o Analytics API en plan â€œmÃ¡ximo 31 dÃ­asâ€ o algo asÃ­. Lo que sÃ­ se desprende es:

Si un rango estÃ¡ â€œfuera de lo permitidoâ€ para una pÃ¡gina/reporte, te puede dar error de Invalid Date Range (mÃ¡s comÃºn en Payroll/reportes especÃ­ficos).
Operativamente, rangos grandes pueden pegarle a performance â†’ por eso conviene agrupar por semana/mes.
RecomendaciÃ³n concreta para tu implementaciÃ³n
En tu API del dashboard, agrega un parÃ¡metro (o una regla automÃ¡tica):

granularity=day - week - month
Regla automÃ¡tica:
<= 60 dÃ­as â†’ day
61â€“180 dÃ­as â†’ week
> 180 dÃ­as â†’ month
AsÃ­ un â€œaÃ±o completoâ€ es totalmente viable y rÃ¡pido.

1 pregunta para dejarlo bien diseÃ±ado
Â¿Cuando pidas â€œun aÃ±oâ€, lo quieres por dÃ­a (muy detallado) o te sirve por mes (mÃ¡s tipo KPI/overview)?

Sources
Edit Employee Time Clock Entries (lÃ­mites 12 meses y referencia a 25 meses): https://central.toasttab.com/s/article/Editing-Employee-Time-Clock-Entries-1492802387122
Access Employee Time Entry Reporting After 12 months: https://central.toasttab.com/s/article/Access-Time-Entry-Reporting-After-12-months
Get Help With Toast Payroll Error: Invalid Date Range: https://central.toasttab.com/s/article/Get-Help-With-Toast-Payroll-Error-Invalid-Date-Range
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials

Completed



osea, puedo pedir por aÃ±o, mes, semana, dia y rango de fechas? todos esos filtros
SÃ­ â€” puedes ofrecer todos esos filtros en tu dashboard (rango de fechas, y vista por dÃ­a / semana / mes / aÃ±o, y por tienda), con estas consideraciones para que siempre funcione bien:

âœ… Filtros que puedes soportar
1) Rango de fechas
startDate y endDate (cualquier rango que tÃº permitas en tu UI)
2) Tienda(s)
storeId (una) o storeIds[] (multi-selecciÃ³n)
3) Granularidad (cÃ³mo agrupar el resultado)
groupBy = day - week - month - year
Eso te permite:

â€œÃšltimos 7 dÃ­as por dÃ­aâ€
â€œÃšltimos 12 meses por mesâ€
â€œAÃ±o completo por semanaâ€
â€œ5 aÃ±os por aÃ±oâ€ (si quieres)
âš ï¸ Lo Ãºnico a cuidar: lÃ­mites prÃ¡cticos y reportes de labor
Para ventas agregadas, rangos largos suelen ser OK si agregas por semana/mes.
Para labor basada en time entries (registro de empleados), en Toast Web:
Time Entry Management llega a 12 meses
y Time Entry Reporting llega a 25 meses (mÃ¡s viejo requiere soporte)
En tu dashboard â€œagregadoâ€, lo ideal es:

para rangos largos, usar groupBy=month o year
evitar pedir â€œpor dÃ­aâ€ cuando son rangos muy grandes (por performance y tamaÃ±o de respuesta)
RecomendaciÃ³n de API (lo mÃ¡s limpio)
Un solo endpoint:

GET /kpis?storeIds=...&startDate=...&endDate=...&groupBy=day|week|month|year

Y que devuelva filas con:

Date bucket (dÃ­a/semana/mes/aÃ±o)
Store
Net Sales, Orders, Guests
Labor Cost / Labor % / SPLH (agregado)
1 pregunta para dejarlo redondo
Â¿Vas a permitir multi-selecciÃ³n de tiendas (varias tiendas en la misma tabla) o solo una tienda por consulta?

Sources
Edit Employee Time Clock Entries (Time Entry Management: 12 meses y referencia a 25 meses): https://central.toasttab.com/s/article/Editing-Employee-Time-Clock-Entries-1492802387122
Access Employee Time Entry Reporting After 12 months: https://central.toasttab.com/s/article/Access-Time-Entry-Reporting-After-12-months

Completed



voy a permitir todas
Perfecto â€” si vas a permitir todas (multiâ€‘tienda + cualquier rango + day-week-month-year), lo mejor es definir reglas claras para que nunca se vuelva lento ni te regrese miles de filas.

âœ… DiseÃ±o recomendado (lo que soportas en tu UI)
Filtros
Tiendas: multiâ€‘select (storeIds[]) + opciÃ³n â€œTodasâ€
Rango: startDate, endDate
AgrupaciÃ³n: groupBy = day - week - month - year
Regla â€œsmartâ€ (para performance)
Aunque el usuario pueda escoger â€œdÃ­aâ€, tÃº puedes proteger el sistema con una regla:

Si el rango es 1â€“62 dÃ­as â†’ permite day
Si el rango es 63â€“365 dÃ­as â†’ sugiere/autoâ€‘cambia a week (y dejas day opcional bajo advertencia)
Si el rango es > 365 dÃ­as â†’ month o year
Esto evita que â€œdÃ­aâ€ x â€œtodas las tiendasâ€ te regrese decenas de miles de filas.

âœ… Un solo endpoint para ventas + labor con los mismos filtros
RecomendaciÃ³n: un endpoint que siempre reciba los mismos parÃ¡metros, y devuelva una tabla consistente.

GET /metrics?storeIds=...&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD&groupBy=day|week|month|year

Cada fila:

Store (tienda)
Period (dÃ­a/semana/mes/aÃ±o)
Net Sales
Orders
Guests
Labor % (laborPercentOfNetSales)
SPLH (net sales per labor hour)
En tus datos ya validÃ© que existe el patrÃ³n â€œpor fecha y por tiendaâ€ (ejemplo con DERIVED_SALES_LABOR por date + restaurant).

âš ï¸ Nota importante (labor â€œregistro de empleadosâ€ vs labor agregado)
Como tÃº lo quieres agregado, vas bien. Pero recuerda:

En Toast Web, time entries tienen lÃ­mites de histÃ³rico (12 meses en Time Entry Management, 25 meses en Time Entry Reporting).
Para tu dashboard agregado, mientras uses mÃ©tricas agregadas (labor cost, labor %, SPLH), normalmente puedes manejar rangos grandes mejor que con detalle por empleado.
1 decisiÃ³n clave que falta (y con eso te lo dejo â€œcerradoâ€)
Cuando el usuario elija â€œTodas las tiendasâ€, Â¿quieres que el resultado sea:

A) Tabla larga (row por tienda x periodo) â€” ideal para exportar y pivotar
o
B) Tabla pivote (periodos como filas y tiendas como columnas) â€” mejor para lectura, pero mÃ¡s compleja

Dime A o B y te recomiendo el formato exacto de respuesta (JSON) y cÃ³mo paginarlo/cachÃ©arlo.


Completed



como sea, mi backend lo podra interpretar
SÃ­ â€” si tu backend lo va a interpretar, puedes elegir el formato que te sea mÃ¡s cÃ³modo. Para que no te compliques, te recomiendo este enfoque:

OpciÃ³n recomendada: respuesta â€œlong formatâ€ (normalizada)
Es la mÃ¡s fÃ¡cil de consumir, filtrar y agrupar en cualquier backend.

Respuesta ejemplo (una fila = una tienda + un periodo):

{
  "groupBy": "day",
  "startDate": "2026-01-01",
  "endDate": "2026-01-31",
  "rows": [
    {
      "storeId": "5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02",
      "storeName": "West Covina",
      "periodStart": "2026-01-01",
      "periodEnd": "2026-01-01",
      "netSales": 12345.67,
      "orderCount": 890,
      "guestCount": 910,
      "laborPercentOfNetSales": 0.223,
      "netSPLH": 84.43
    }
  ]
}
Ventajas:

Si el usuario elige 1 tienda o 15 tiendas, la estructura no cambia.
Si eliges day/week/month/year, solo cambian periodStart/periodEnd.
Puedes â€œpivotearâ€ despuÃ©s si quieres (en backend o frontend).
OpciÃ³n alternativa: â€œpivotâ€
Ãštil para UI tipo matriz, pero es mÃ¡s complicada porque cambia con el nÃºmero de tiendas:

columnas dinÃ¡micas
mÃ¡s difÃ­cil para cache/paginaciÃ³n
Reglas prÃ¡cticas que te conviene poner
ParÃ¡metros:
storeIds[] (multi-select)
startDate, endDate
groupBy=day|week|month|year
Control de tamaÃ±o:
Si el usuario pide groupBy=day y el rango es enorme, puedes:
responder 400 con mensaje â€œusa week/monthâ€
o auto-escalar a week/month y devolver un campo effectiveGroupBy
1 pregunta para terminar de afinarlo
Â¿Vas a permitir tambiÃ©n el selector â€œTodas las tiendasâ€?
Si sÃ­, te recomiendo agregar paginaciÃ³n (limit/offset o cursor) para que nunca se vuelva pesado.


Completed



si
Perfecto â€” entonces sÃ­: soporta â€œTodas las tiendasâ€, pero hazlo â€œa prueba de bombaâ€ con paginaciÃ³n + cachÃ© + lÃ­mites de granularidad.

âœ… Contrato recomendado (1 endpoint, long format)
GET /metrics

Query params

storeIds=all o storeIds=95866cfc-eeb8-4af9-9586-f78931e1ea04,8685e942-3f07-403a-afb6-faec697cd2cb,...
startDate=YYYY-MM-DD
endDate=YYYY-MM-DD
groupBy=day|week|month|year
cursor= (opcional, para paginar)
limit= (ej. 500)
Respuesta (normalizada)

rows[] con: storeId, storeName, periodStart, periodEnd, netSales, orders, guests, laborPercent, splh
nextCursor si hay mÃ¡s
Esto te deja:

misma estructura para 1 tienda o 15
fÃ¡cil de cachear y de â€œpivotearâ€ cuando quieras
âš™ï¸ Reglas de performance (muy recomendadas)
1) LÃ­mite de filas por request
Define un tope (ej. limit=500 o 1000), y paginaciÃ³n con cursor.

2) â€œGranularity guardâ€
Aunque permitas groupBy=day, define reglas para evitar consultas gigantes:

si (dÃ­as en rango) x (# tiendas) > cierto umbral â†’
devuelves error amigable o aplicas effectiveGroupBy=week|month.
3) CachÃ©
Rangos que incluyen hoy: cache 60â€“120s
Rangos histÃ³ricos: cache 5â€“15 min
ğŸ” Seguridad (rÃ¡pido)
Toast credentials solo en backend
tu dashboard llama solo a tu backend
aunque seas tÃº: mÃ­nimo un auth token / session
1 detalle para decidir (y con eso ya queda diseÃ±o final)
Â¿Quieres que el selector â€œTodas las tiendasâ€ incluya las 15 por default (South Gateâ€¦ Bell), o quieres permitir grupos predefinidos (ej. â€œLAâ€, â€œInland Empireâ€, etc.) para consultas mÃ¡s rÃ¡pidas?


Completed



todas
Listo â€” entonces â€œTodasâ€ = tus 15 tiendas siempre incluidas.

âœ… ImplementaciÃ³n recomendada (simple y sÃ³lida)
Endpoint Ãºnico (long format)
GET /metrics?storeIds=all&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD&groupBy=day|week|month|year&limit=500&cursor=...

QuÃ© regresa

rows[]: una fila por tienda + periodo
nextCursor: para paginaciÃ³n (si aplica)
effectiveGroupBy: por si ajustas la granularidad automÃ¡ticamente cuando el rango es muy grande
Reglas prÃ¡cticas (para que no truene con â€œdÃ­a + aÃ±o + 15 tiendasâ€)
PaginaciÃ³n obligatoria (cursor + limit) cuando storeIds=all
Granularity guard:
rangos grandes â†’ fuerza week o month (y lo informas en effectiveGroupBy)
CachÃ©
incluye hoy â†’ 60â€“120s
histÃ³rico â†’ 5â€“15 min
Tus â€œTodas las tiendasâ€ (las 15)
South Gate, LA Central, Huntington Park, Hollywood, Downey, Norwalk, Rialto, Lynwood, LA Broadway, West Covina, Slauson, Santa Ana, La Puente, Azusa, Bell.

1 pregunta final (para cerrar el contrato del endpoint)
Â¿Cuando el usuario seleccione groupBy=week, quieres que la semana empiece en lunes (como tus reportes) o en domingo?


Completed



si que empiece por lunes......todo esto tiene costo extra?
SÃ­, pero depende de quÃ© API termines usando:

1) Standard API (read-only) â€” incluida con Restaurant Management Essentials
Toast Central indica que Standard API access estÃ¡ disponible como parte de Restaurant Management Essentials (RMS) (en EE.UU.). O sea: normalmente no es â€œpago extra por usar el APIâ€, sino que viene con esa suite (que sÃ­ es una suscripciÃ³n).

2) Toast Analytics API â€” requiere Restaurant Management Pro
Si lo que necesitas es la Analytics API (datos agregados/histÃ³ricos para dashboards: ventas, labor, items, etc.), Toast Central indica que requiere RMS Pro. Eso sÃ­ puede implicar subir de plan.

3) Partner Integrations / Marketplace
Las integraciones (Partner Integrations) tambiÃ©n requieren una Restaurant Management suite (Essentials o Pro). Y ojo: si conectas un partner de terceros, el partner puede cobrarte aparte (eso ya depende del proveedor).

En resumen (prÃ¡ctico)
Si ya tienes RMS Essentials: puedes tener Standard API sin â€œadd-onâ€ separado.
Si necesitas Analytics API: necesitas RMS Pro (upgrade).
Si usas un partner externo: puede haber costo del partner ademÃ¡s.
Si quieres, lo revisamos â€œcon precisiÃ³nâ€ segÃºn tu cuenta: Â¿sabes si hoy estÃ¡s en Restaurant Management Essentials o Restaurant Management Pro?

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials
Set Up Toast Partner Integrations: https://central.toasttab.com/s/article/Toast-Partner-Connect-Setting-Up-Integrations-with-Toast
Toast Suites Overview (incluye Standard API y Analytics API dentro de Restaurant Management Suite): https://central.toasttab.com/s/article/Toast-Suites-Overview

Completed



read-only
â€œRead-onlyâ€ (Standard API) no cobra por consulta como tal; el punto es si ya tienes la suite que lo incluye.

Toast Central dice que Standard API access (read-only) estÃ¡ incluida con Restaurant Management Essentials (RMS) (EE.UU.).
Y que la Analytics API (para data agregada/histÃ³rica tipo dashboards) requiere Restaurant Management Pro.
Entonces, Â¿tiene costo extra?
Si ya tienes RMS Essentials (o superior): normalmente no es un â€œadd-onâ€ extra para tener credenciales read-only; viene con la suite.
Si no tienes RMS: entonces sÃ­, tendrÃ­as que contratar Restaurant Management Suite para habilitar APIs/integraciones.
Si usas un partner externo, el partner puede cobrar aparte (independiente de Toast).
Para confirmarlo en tu caso
Â¿Quieres que asumamos que vas a usar Standard API access (read-only) y no Analytics API? (SÃ­/no)

Si me dices â€œsÃ­â€, lo siguiente serÃ­a crear las credenciales de API en Toast Web (yo te digo dÃ³nde, pero necesito buscar la doc exacta antes de darte los pasos).

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials
Set Up Toast Partner Integrations: https://central.toasttab.com/s/article/Toast-Partner-Connect-Setting-Up-Integrations-with-Toast
Toast Suites Overview: https://central.toasttab.com/s/article/Toast-Suites-Overview

Completed



revisa mi cuenta y dime que incluye? y que me recomiendas?
No puedo â€œverâ€ tu paquete exacto contratado desde aquÃ­ (tipo: si tienes Restaurant Management Essentials vs Pro) porque no tengo acceso directo a tu pÃ¡gina de Subscriptions. Lo que sÃ­ puedo hacer es decirte cÃ³mo confirmarlo en 30 segundos en Toast Web y, con base en lo que quieres construir, quÃ© te conviene.

ğŸ” CÃ³mo ver exactamente quÃ© incluye tu cuenta (oficial en Toast Web)
Toast Central indica que puedes ver tus productos en Toast account â†’ My Products â†’ Subscriptions (nota: para entrar ahÃ­ necesitas permiso 8.1 Financial Accounts).

Si tÃº (o alguien de tu equipo) tiene ese permiso, ahÃ­ vas a ver:

Nombre del/los paquetes
costo mensual
periodo de facturaciÃ³n
QuÃ© incluye cada opciÃ³n (lo relevante para tu proyecto)
SegÃºn Toast Central:

Standard API (read-only)
Standard API access estÃ¡ disponible como parte de Restaurant Management Essentials (RMS) (EE.UU.).
Esto es lo que tÃº llamas â€œread-onlyâ€.
Analytics API (agregados/histÃ³ricos para dashboards)
La Toast Analytics API requiere Restaurant Management Suite Pro.
Y para crear credenciales de Analytics API necesitas permisos: 4.1 Sales Reports, 4.2 Menu Reports, 4.3 Labor Reports, 8.4 Manage Integrations a nivel management set.
Mi recomendaciÃ³n para tu caso (tu dashboard privado)
Como tÃº quieres:

filtros por tienda + rango + day-week-month-year
ventas + labor agregado
sin exponer credenciales
(y no estÃ¡s buscando integrarte como partner comercial)
RecomendaciÃ³n: empieza con Standard API (read-only) si ya lo tienes incluido (RMS Essentials).
Si te quedas corto por endpoints/datos agregados/histÃ³ricos, ahÃ­ sÃ­ vale la pena considerar RMS Pro para Analytics API.

Si quieres que â€œlo reviseâ€ contigo ahora mismo
Dime una de estas dos cosas (solo una):

Â¿TÃº puedes entrar a Toast account â†’ My Products â†’ Subscriptions? (sÃ­/no)
o
PÃ©game el nombre exacto del paquete que te aparece ahÃ­ (ej. â€œRestaurant Management Essentialsâ€ o â€œRestaurant Management Proâ€) y te digo exactamente quÃ© ruta conviene.
Sources
Review and Manage Your Toast Subscriptions: https://central.toasttab.com/s/article/Review-and-Manage-Your-Toast-Subscriptions
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials
Toast Suites Overview: https://central.toasttab.com/s/article/Toast-Suites-Overview

Completed



Basado en la imagen de tu cuenta de Toast, actualmente tienes activas varias suscripciones que se dividen en paquetes de software y productos individuales. AquÃ­ tienes el detalle de lo que estÃ¡s pagando mensualmente: Software Suites (Paquetes) Third Party Delivery Integrations Package: $90.00 al mes (incluye 3 productos para integraciones con plataformas de entrega). Individual Software (Software Individual) Gift Card: $45.00 al mes. Enterprise Data Management Subscription: $82.50 al mes. Online Ordering: $50.00 al mes. Loyalty Program: $22.50 al mes. API Subscription: $25.00 al mes. Resumen de Cuenta Subtotal de este periodo: $684.00 (esto sugiere que hay otros cargos o ubicaciones, ya que la suma de lo visible arriba es menor). Descuentos incluidos: Te estÃ¡n aplicando un ahorro de $166.00. PrÃ³xima renovaciÃ³n de contrato: 15 de noviembre de 2026.
Gracias â€” con ese â€œsnapshotâ€ ya se puede orientar bastante, pero necesito ser bien transparente: desde este chat no puedo validar que esa lista sea 100% exacta porque no tengo acceso directo a tu pÃ¡gina de Subscriptions (ni a un tool que lea tus productos). Aun asÃ­, te explico cÃ³mo interpretarlo y quÃ© te recomiendo para tu dashboard.

QuÃ© significa â€œAPI Subscription: $25/mesâ€ en tu contexto
En Toast Central, lo que estÃ¡ documentado con claridad es:

Standard API access (read-only): credenciales para leer datos, y estÃ¡ â€œavailable as part of Restaurant Management Essentials (RMS)â€ (EE.UU.).
Analytics API: para datos agregados/histÃ³ricos (ventas, labor, items) y requiere Restaurant Management Suite Pro.
Tu lÃ­nea â€œAPI Subscription $25/mesâ€ sugiere que sÃ­ tienes algÃºn tipo de acceso a API habilitado/pagado en tu cuenta (probablemente el equivalente a read-only), pero Toast Central no mapea esa lÃ­nea de factura 1:1 con â€œStandard API vs Analytics APIâ€ como para que yo pueda afirmarlo sin verlo en la pantalla de credenciales.

Lo que te recomiendo (por tu objetivo)
TÃº quieres:

Dashboard privado
Multiâ€‘tienda (15)
Filtros: rango fechas + day-week-month-year
Ventas + labor agregado
RecomendaciÃ³n prÃ¡ctica
Empieza con Standard API (read-only) si ya lo tienes (por costo/tiempo).
Si ves que te faltan endpoints para â€œagregadosâ€ o se vuelve complicado, entonces considera Analytics API (RMS Pro), porque estÃ¡ pensada justo para dashboards de performance.
CÃ³mo confirmarlo sin dudas (lo mÃ¡s confiable)
En Toast Web, crea/consulta credenciales:

Si te deja crear credenciales de tipo read-only APIs â†’ tienes Standard API.
Si ademÃ¡s te deja crear Analytics API Credentials â†’ tienes acceso a Analytics API (y tÃ­picamente RMS Pro).
Toast Central indica que esto se hace en:

Integrations â†’ Manage credentials y ahÃ­ puedes Create Analytics API Credentials cuando aplica.
1 pregunta para afinar la recomendaciÃ³n
En tu Toast Web, Â¿ves la opciÃ³n Integrations â†’ Manage credentials?

SÃ­ â†’ te digo exactamente quÃ© buscar ahÃ­ para confirmar si tienes read-only y/o Analytics API (y con eso cerramos quÃ© incluye tu cuenta para tu caso).
No â†’ probablemente te falte permiso (comÃºnmente 8.4 Manage Integrations) o no estÃ¡ habilitado en la suite.
Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials

Completed



si lo veo y solo puedo crear Standard API, Analytics API esta deshabilitado (gris)
Perfecto â€” eso ya lo deja clarÃ­simo:

Lo que incluye tu cuenta (segÃºn lo que ves en Toast Web)
âœ… Tienes Standard API (readâ€‘only) habilitado (puedes crear credenciales).
ğŸš« No tienes Analytics API (estÃ¡ deshabilitado/gris), lo cual normalmente significa que no tienes RMS Pro o no estÃ¡ habilitado en tu paquete/permiso.
Esto cuadra con lo que documenta Toast:

Standard API = acceso readâ€‘only a APIs (incluido en ciertos paquetes).
Analytics API = requiere Restaurant Management Suite Pro.
QuÃ© te recomiendo para tu dashboard (tu caso)
RecomendaciÃ³n #1 (la tuya hoy): seguir con Standard API
Para lo que quieres (ventas + labor agregado, filtros por tienda y rango, week empieza lunes):

Arranca con Standard API.
Haz tu backend con:
cache (60â€“120s para rangos que incluyan â€œhoyâ€, 5â€“15 min para histÃ³rico)
paginaciÃ³n
granularity guard (si el rango es grande, cambiar dayâ†’week/month)
Esto te va a funcionar muy bien para un dashboard interno.

RecomendaciÃ³n #2 (solo si te quedas corto): evaluar upgrade a Analytics API
Te conviene considerar Analytics API si:

necesitas consultas agregadas â€œlistasâ€ (ventas/labor/items) sin armar tÃº tanta lÃ³gica
quieres performance mÃ¡s consistente para rangos grandes y multiâ€‘tienda
planeas crecer el dashboard (mÃ¡s mÃ©tricas, mÃ¡s profundidad)
Siguiente paso concreto (para no adivinar)
En Standard API, las credenciales se pueden configurar por ubicaciÃ³n. Para tu dashboard con 15 tiendas, lo ideal es:

1 set de credenciales que incluya todas tus ubicaciones (South Gate â†’ Bell)
tu backend expone /metrics con storeIds=all|..., startDate/endDate, groupBy
1 pregunta (para asegurar compatibilidad con tu diseÃ±o â€œventas + laborâ€)
Â¿En tu dashboard quieres Labor Cost y Total Hours (valores absolutos), o te basta con labor % y SPLH?

Si quieres cost/hours, a veces requiere endpoints/datos especÃ­ficos (y conviene validar que tu Standard API los expone).
Si con labor % y SPLH estÃ¡s bien, normalmente es mÃ¡s directo (y ya vimos que esos agregados existen en tus reportes).
Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials: https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials

Completed



quisiera las 4
Perfecto â€” las 4: Labor Cost, Total Hours, Labor % y SPLH. Con tu setup actual (âœ… Standard API, ğŸš« Analytics API), mi recomendaciÃ³n es:

âœ… Plan A (recomendado): traer Hours y Cost + calcular % y SPLH en tu backend
AsÃ­ no dependes de que Standard API te devuelva ya calculado â€œlabor % / SPLHâ€ (que a veces cambia por endpoint), y te queda consistente.

Tu backend harÃ­a para el mismo filtro (tiendas + rango + groupBy):

Ventas agregadas: Net Sales
Labor agregada: Total Hours y Total Cost
Calcula:
Labor % = Total Cost / Net Sales
SPLH = Net Sales / Total Hours
Importante: para evitar divisiones raras, tu backend debe manejar Net Sales = 0 o Total Hours = 0.

âœ… CÃ³mo se ve el contrato del endpoint (lo que tu frontend consume)
GET /metrics?storeIds=all&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD&groupBy=day|week|month|year

Cada fila (store + periodo):

Net Sales
Labor Cost
Total Hours
Labor %
SPLH
âš™ï¸ Reglas que te conviene imponer (porque â€œtodas las tiendasâ€)
Week empieza lunes (como ya acordamos)
Granularity guard: si piden â€œdÃ­aâ€ en un rango muy grande, fuerzas week/month
Cache:
rango incluye hoy: 60â€“120s
histÃ³rico: 5â€“15 min
PaginaciÃ³n si el rango puede generar muchas filas
1 cosa que necesito confirmar para no construirlo mal
Â¿Tu â€œLabor Costâ€ lo quieres como:

A) solo regular + overtime (costo por horas del reloj checador), o
B) todo lo que Toast considera labor cost en reportes (puede incluir configuraciones adicionales segÃºn cÃ³mo estÃ©n set los jobs)?
Con esa respuesta te digo el enfoque mÃ¡s fiel a lo que ves en Toast Web, y quÃ© validar en tus Jobs/Reports para que el nÃºmero cuadre.


Completed



A
SÃ­ â€” A (regular + overtime) es totalmente viable, y ya confirmÃ© con tus datos que puedes sacar horas y costo por fecha + tienda y combinarlo con net sales para calcular labor % y SPLH con el mismo filtro.

âœ… Lo que ya validÃ© con datos reales (misma fecha-rango y mismas tiendas)
Para Mon 2026-01-12 â†’ Fri 2026-01-16 (esta semana so far), pude traer:

De LABOR (por date + store):
Total Hours, Regular Hours, Overtime Hours
Total Cost, Regular Cost, Overtime Cost
De SALES (por date + store):
Net Sales
Eso es exactamente lo que necesitas para tu dashboard con los 4 KPIs.

CÃ³mo calculas tus 4 mÃ©tricas en el backend (mismo filtro)
Para cada fila (tienda + periodo):

Labor Cost (A) = regularCost + overtimeCost (o simplemente totalCost si coincide)
Total Hours = totalHours (o regularHours + overtimeHours)
Labor % = laborCost / netSales
SPLH = netSales / totalHours
Tu backend debe manejar casos donde netSales = 0 o totalHours = 0 para evitar divisiÃ³n entre cero.

âœ… DiseÃ±o del endpoint (unificado)
GET /metrics?storeIds=all|...&startDate=YYYY-MM-DD&endDate=YYYY-MM-DD&groupBy=day|week|month|year

Respuesta en â€œlong formatâ€ (recomendado):

Store
PeriodStart / PeriodEnd
Net Sales
Total Hours
Labor Cost (regular + OT)
Labor %
SPLH
Nota importante (para que cuadre con tus reportes)
Como pediste A, vas por â€œcosto/hora del reloj checadorâ€ (regular + overtime). Eso normalmente cuadra con lo que sale de labor por time entries. Si un dÃ­a notas diferencias vs algÃºn reporte de Toast Web, suele ser por:

jobs salariales (si existen) no incluidos en ciertos cÃ¡lculos
configuraciÃ³n de jobs/reporting (quÃ© jobs cuentan como labor)
1 pregunta para dejarlo listo para producciÃ³n
Â¿Tu â€œgroupBy=weekâ€ lo quieres como semana ISO (lunes-domingo) y que el â€œperiodStartâ€ sea el lunes, aunque el rango empiece a mitad de semana?
(Ej: startDate=miÃ©rcoles â†’ Â¿quieres que esa semana â€œsemana parcialâ€ salga con periodStart=lunes igual, o que periodStart sea el mismo miÃ©rcoles?)

Si me dices cuÃ¡l, te doy la regla exacta para agrupar y que sea consistente con tus reportes internos.


Completed



semana ISO
Perfecto â€” Semana ISO (lunesâ†’domingo) es la mejor opciÃ³n para que sea consistente y fÃ¡cil de comparar.

âœ… Regla de agrupaciÃ³n (ISO week)
Para groupBy=week:

Cada fila representa una semana ISO (lunes a domingo).
periodStart = lunes de esa semana
periodEnd = domingo de esa semana
Si tu rango cae a mitad de semana, esa â€œsemana parcialâ€ igual se etiqueta con el lunes/domingo ISO, pero los valores (ventas/labor) solo suman lo que caiga dentro de startDate..endDate.
Ejemplo:

startDate=2026-01-14 (miÃ©rcoles) y endDate=2026-01-16 (viernes)
periodStart=2026-01-12 (lunes ISO)
periodEnd=2026-01-18 (domingo ISO)
MÃ©tricas sumadas solo de miÃ©-vie.
âœ… CÃ³mo lo implementas en tu backend (recomendaciÃ³n)
Siempre filtra por startDate/endDate en la consulta (no por â€œsemana completaâ€).
Luego bucketizas cada fila por isoWeek (aÃ±o ISO + semana ISO).
Agregas por:
storeId
isoWeek
Y calculas tus 4 KPIs:

Labor Cost = regularCost + overtimeCost (o totalCost)
Total Hours = totalHours
Labor % = laborCost / netSales
SPLH = netSales / totalHours
âœ… Lo que ya estÃ¡ confirmado con tus datos
Ya pude traer (por fecha + tienda) tanto:

Net Sales (SALES)
Labor hours/cost (LABOR)
AsÃ­ que tu backend puede construir semanas ISO sin problema.

1 decisiÃ³n final (para evitar confusiÃ³n en â€œyearâ€)
Cuando uses groupBy=year, Â¿quieres:

A) aÃ±o calendario (Jan 1â€“Dec 31), o
B) aÃ±o ISO (el aÃ±o de la semana ISO, que a veces arranca/termina en dÃ­as de diciembre/enero)?
Para dashboards financieros casi siempre recomiendo aÃ±o calendario; para consistencia con â€œweek ISOâ€, a veces eligen aÃ±o ISO.


Completed



calendario
Perfecto â€” entonces quedamos asÃ­:

âœ… Reglas finales de tu dashboard
groupBy=week
Semana ISO (lunes â†’ domingo)
periodStart = lunes ISO
periodEnd = domingo ISO
Si el rango empieza/termina a mitad de semana, la semana sale â€œparcialâ€, pero etiquetada por su lunes/domingo ISO.
groupBy=year
AÃ±o calendario (Jan 1 â†’ Dec 31)
âœ… QuÃ© te recomiendo implementar (para que cuadre ventas + labor con el mismo filtro)
Tu backend hace 2 pulls con el mismo filtro (storeIds, startDate, endDate) y despuÃ©s agrega por el bucket que corresponda:

Ventas (SALES): netSales (y si quieres luego orderCount, guestCount)
Labor (LABOR): regularHours, overtimeHours, regularCost, overtimeCost (o totalHours/totalCost)
Luego calcula:

Labor Cost (A) = regularCost + overtimeCost
Total Hours = regularHours + overtimeHours
Labor % = laborCost / netSales
SPLH = netSales / totalHours
âœ… Tip para que el resultado sea consistente siempre
Incluye en la respuesta:

requestedGroupBy (lo que pidiÃ³ el usuario)
effectiveGroupBy (por si aplicas â€œgranularity guardâ€)
periodStart/periodEnd (segÃºn ISO week o calendario)
1 pregunta (Ãºltima para cerrar el diseÃ±o de fechas)
Cuando alguien seleccione â€œeste aÃ±oâ€, Â¿lo quieres como:

AÃ±o calendario hasta hoy (Jan 1 â†’ hoy), o
AÃ±o calendario completo (Jan 1 â†’ Dec 31, aunque sea futuro)?
Para dashboards operativos normalmente es Jan 1 â†’ hoy.


Completed



hasta hoy (dia actual)
Perfecto â€” entonces tu preset â€œEste aÃ±oâ€ = AÃ±o calendario hasta hoy queda asÃ­:

âœ… DefiniciÃ³n final de â€œEste aÃ±oâ€
startDate = Jan 1 del aÃ±o actual
endDate = hoy (dÃ­a actual)
groupBy:
si el usuario lo elige: day/week/month/year
recomendado por performance: para â€œeste aÃ±oâ€ normalmente month o week
âœ… Reglas completas (ya cerradas)
Week: ISO week (lunesâ†’domingo)
Year: aÃ±o calendario (Jan 1â†’Dec 31)
This year: Jan 1 â†’ hoy
Todas las tiendas: incluye tus 15 ubicaciones
Labor (A): regular + overtime (horas y costo) + calculas labor% y SPLH en backend
ğŸ§© Output recomendado (para que tu backend lo interprete fÃ¡cil)
Siempre regresa â€œlong formatâ€:

Store
PeriodStart / PeriodEnd
Net Sales
Labor Cost
Total Hours
Labor %
SPLH
requestedGroupBy y effectiveGroupBy (si ajustas granularidad)
Si quieres, en el siguiente paso te armo un ejemplo de payload de request/response exactamente como lo usarÃ­as en tu web (con storeIds=all, startDate/endDate, groupBy) para que lo copies tal cual.


Completed



ok, ahora que sigue? como hago la conexion entre mi dashboard y toast?
Para conectar tu dashboard con Toast (con Standard API â€“ readâ€‘only), el flujo es:

1) Crear credenciales en Toast Web (ya estÃ¡s ahÃ­)
Toast Central confirma que el acceso se maneja por credenciales y que puedes generar sets para leer datos de ubicaciones especÃ­ficas (ideal: uno para tus 15 tiendas). En Analytics API hay un botÃ³n aparte (que en tu caso estÃ¡ gris/deshabilitado).
Fuente: Standard API Access.

2) Backend â€œen medioâ€ (obligatorio)
Tu dashboard (frontend) NO debe hablar directo con Toast. Hazlo asÃ­:

Dashboard (web privada) â†’ llama a â†’ Tu backend â†’ llama a â†’ Toast Standard API â†’ regresa JSON agregado

Esto evita exponer credenciales y te permite:

cache
paginaciÃ³n
reglas ISO week / aÃ±o calendario
limitar rangos
3) Tu backend implementa 2 consultas y calcula KPIs
Con el mismo filtro (storeIds, startDate, endDate, groupBy):

Query A: Sales (Net Sales, y si quieres Orders/Guests)
Query B: Labor (Regular/OT hours + Regular/OT cost)
Luego calculas:

Labor Cost (A) = Regular Cost + Overtime Cost
Total Hours = Regular Hours + Overtime Hours
Labor % = Labor Cost / Net Sales
SPLH = Net Sales / Total Hours
4) â€œRealâ€‘timeâ€ vs â€œnear real-timeâ€
Con Standard API, lo tÃ­pico es polling (cada 60â€“120s para rangos que incluyan hoy).
Si mÃ¡s adelante quieres un modelo â€œpushâ€, Toast tambiÃ©n tiene Webhook Subscriptions (requiere configuraciÃ³n y depende del caso de uso).

Lo que necesito de ti para decirte â€œquÃ© sigueâ€ sin adivinar endpoints
Como Toast Central no publica en esos artÃ­culos los endpoints exactos (eso estÃ¡ en el developer guide), dime esto:

Â¿Tu backend serÃ¡ Node.js, Python, o algo mÃ¡s?

Con eso te doy el â€œstarter kitâ€ (estructura de proyecto, endpoints internos /metrics, cache, y cÃ³mo guardar/rotar credenciales), y el checklist de seguridad para que no expongas el Client ID/Secret.

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Toast Webhook Subscriptions: https://central.toasttab.com/s/article/Toast-Webhook-Subscriptions
Create and Manage Toast Analytics API Access Credentials (para ubicar Manage credentials y diferenciar Analytics vs read-only): https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials

Completed



es next.js, supabase, etc
Perfecto â€” Next.js + Supabase es un stack ideal para esto. Te dejo el â€œcaminoâ€ en orden para que lo conectes sin exponer credenciales.

1) En Toast: crea tus credenciales Standard API (read-only)
Ya confirmaste que puedes crear Standard API en Integrations â†’ Manage credentials.
RecomendaciÃ³n:

Crea un set para tu dashboard.
Incluye todas tus ubicaciones (las 15) para que storeIds=all funcione.
(Guarda Client ID/Secret donde solo tu backend los pueda usar.)

2) En Supabase: guarda secretos y controla acceso
Guarda TOAST_CLIENT_ID y TOAST_CLIENT_SECRET (y cualquier token/refresh si aplica) en Supabase Secrets o variables de entorno de tu backend.
Crea una tabla tipo toast_locations para mapear:
storeId (ej. 5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02)
storeName (West Covina)
active=true/false
3) En Next.js: crea un endpoint backend (Route Handler)
Crea un endpoint interno, por ejemplo:

GET /api/metrics
Params: storeIds=all|..., startDate, endDate, groupBy=day|week|month|year
Este endpoint:

Valida input (fechas, groupBy, etc.)
Llama a Toast desde el servidor (nunca desde el browser)
Trae:
SALES: netSales (y opcional: orders/guests)
LABOR: regular/overtime hours + cost
Agrega por:
store
bucket (day/week ISO/month/year calendario)
Calcula:
Labor Cost (A) = regularCost + overtimeCost
Total Hours = regularHours + overtimeHours
Labor % = laborCost / netSales
SPLH = netSales / totalHours
Devuelve JSON â€œlong formatâ€
4) Cache (clave para â€œtodas las tiendasâ€)
Con Supabase puedes cachear resultados por â€œquery hashâ€, por ejemplo:

tabla metrics_cache:
key (hash de storeIds+startDate+endDate+groupBy)
data (jsonb)
expires_at
Regla:

si rango incluye â€œhoyâ€ â†’ TTL 60â€“120s
histÃ³rico â†’ TTL 5â€“15 min
5) Frontend: tu dashboard solo consume tu API
Tu UI (React) llama:

/api/metrics?... y renderiza la tabla/grÃ¡ficas.
1 cosa que necesito para darte el siguiente paso â€œcÃ³digo-readyâ€
Cuando dices â€œStandard APIâ€, Â¿tu pantalla de credenciales te muestra algo como Client ID/Secret (OAuth) (y te habla de tokens), o solo te da una llave simple?

Con esa respuesta te doy un ejemplo exacto de:

cÃ³mo autenticar desde Next.js (server-side)
cÃ³mo estructurar el fetch y el refresh token si aplica
y cÃ³mo guardar tokens en Supabase sin exponerlos
Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Toast Webhook Subscriptions: https://central.toasttab.com/s/article/Toast-Webhook-Subscriptions

Completed



guiame paso a paso, no se nada para crear credenciales y conectar con mi dashboard
AquÃ­ va una guÃ­a paso a paso, bien â€œpara ceroâ€, para conectar tu dashboard (Next.js + Supabase) con Toast usando Standard API (readâ€‘only). Voy a evitar inventar endpoints de Toast (eso viene en el developer guide), pero sÃ­ te dejo todo lo que sÃ­ es seguro y el orden correcto.

Paso 0 â€” QuÃ© vas a construir (para ubicarnos)
Tu web no va a hablar directo con Toast. Vas a hacer esto:

Tu Dashboard (frontend) â†’ Tu API en Next.js (server) â†’ Toast Standard API â†’ regresa datos agregados

Esto es por seguridad: asÃ­ nunca expones credenciales en el navegador.

Paso 1 â€” Crear credenciales en Toast Web (Standard API)
En Toast Web, ve a: Integrations â†’ Manage credentials.
Crea un set de credenciales para tu dashboard (ponle un nombre claro, tipo:
Dashboard Personal - Read Only).
En el mismo flujo, elige las ubicaciones que ese set puede leer.
RecomendaciÃ³n: selecciona todas tus 15 tiendas para que tu filtro storeIds=all funcione.
Toast Central confirma que el acceso API se maneja por credenciales y que puedes generar sets con lectura por ubicaciones.
(Tu botÃ³n de Analytics API estÃ¡ gris, asÃ­ que aquÃ­ solo usas readâ€‘only.)

Cuando termines este paso, normalmente vas a ver valores tipo Client ID / Secret (u otro tipo de credencial).
No los pegues en el frontend.

Fuente: Standard API Access (explica que son credenciales readâ€‘only) y el artÃ­culo de Analytics API (confirma que Manage credentials existe).

Paso 2 â€” Guardar esos secretos en Supabase (sin exponerlos)
En tu proyecto, guarda lo siguiente como variables de entorno (ya sea en Supabase o en tu hosting de Next.js):

TOAST_CLIENT_ID
TOAST_CLIENT_SECRET
(y si aplica, tokens que tu backend vaya guardando/renovando)
Regla de oro: nunca metas estas variables en cÃ³digo del cliente (React components). Solo en server routes.

Paso 3 â€” Crear tu endpoint backend en Next.js (tu â€œpuenteâ€)
Crea un endpoint tipo:

GET /api/metrics

Que reciba:

storeIds=all o lista de tiendas
startDate=YYYY-MM-DD
endDate=YYYY-MM-DD
groupBy=day|week|month|year
Ese endpoint hace:

Autenticarse contra Toast usando tus credenciales (esto depende del developer guide)
Pedir datos agregados de:
Ventas (Net Sales)
Labor (Regular/OT hours + Regular/OT cost)
Agrupar segÃºn:
week: ISO week (lunes-domingo)
year: calendario
Calcular tus KPIs:
Labor Cost (A) = regularCost + overtimeCost
Total Hours = regularHours + overtimeHours
Labor % = laborCost / netSales
SPLH = netSales / totalHours
Paso 4 â€” Cache para que â€œtodas las tiendasâ€ sea rÃ¡pido
En Supabase crea una tabla simple, por ejemplo metrics_cache con:

key (texto) â€” hash de storeIds+startDate+endDate+groupBy
data (jsonb)
expires_at (timestamp)
Reglas:

si el rango incluye hoy â†’ cache 60â€“120s
si es histÃ³rico â†’ 5â€“15 min
Paso 5 â€” Conectar tu frontend
Tu dashboard (React) solo hace fetch a: /api/metrics?...

y renderiza.

Lo Ãºnico que necesito para darte el siguiente paso â€œcon pasos exactosâ€
En tu pantalla de Integrations â†’ Manage credentials, cuando creas Standard API:

Â¿QuÃ© campos te entrega exactamente?
Opciones tÃ­picas (respÃ³ndeme cuÃ¡l ves):

â€œClient IDâ€ y â€œClient Secretâ€
Un â€œAPI Keyâ€
Algo diferente (dime el texto tal cual)
Con eso ya te puedo guiar paso a paso en la parte de autenticaciÃ³n desde Next.js (server-side) sin adivinar.

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
Create and Manage Toast Analytics API Access Credentials (confirma dÃ³nde se manejan credenciales): https://central.toasttab.com/s/article/Create-and-Manage-Toast-API-Access-Credentials

Completed



en el paso 1 me aparecen estos: Standard API Access gives you read-only access to the following APIs: Cash Management API Data about cash operations Configuration API Data about your restaurant setup and configurations Labor API Data about employees, timesheets, and break hours Menus API Data about available menus Orders API Data about orders taken and fulfilled Restaurants API Data about a restaurant or restaurant management group Stock API Data about menu item inventory
Perfecto â€” esa pantalla ya significa que sÃ­ estÃ¡s en el lugar correcto: estÃ¡s creando Standard API (readâ€‘only) y te estÃ¡ diciendo quÃ© APIs podrÃ¡s leer (Labor, Orders, Restaurants, etc.). Eso es lo que necesitas para tu dashboard.

Ahora te guÃ­o paso a paso en lo siguiente, sin asumir que sabes programar.

Paso 1 â€” Termina de crear las credenciales (Toast Web)
En Integrations â†’ Manage credentials:

Elige Create Standard API credentials (o equivalente a â€œreadâ€‘only APIsâ€).
Ponle un nombre (ej. Dashboard Personal - Read Only).
Cuando te pida ubicaciones, selecciona todas tus 15 tiendas (para que â€œTodasâ€ funcione).
Confirma/crea.
Cuando termines, Toast te va a mostrar un â€œpaqueteâ€ de credenciales (normalmente cosas como Client ID/Secret o algo similar).
No las pegues en tu dashboard, guÃ¡rdalas en un lugar seguro por ahora.

Toast Central confirma que Standard API es readâ€‘only y que funciona con credenciales.
Fuente: Standard API Access.

ConfirmaciÃ³n rÃ¡pida (1 pregunta)
Cuando le das â€œCreateâ€, Â¿te muestra algo como Client ID y Client Secret, o te muestra otro formato? (pÃ©game los labels exactos, sin los valores).

Paso 2 â€” Crea tu â€œpuenteâ€ en Next.js (sin tocar Toast desde el navegador)
Tu dashboard (la pÃ¡gina) NO se conecta directo a Toast. Se conecta a una ruta de tu servidor.

En Next.js, vas a crear un endpoint como:

/api/metrics
Ese endpoint recibe tus filtros:

tiendas (all o lista)
rango de fechas (start/end)
groupBy (day/week/month/year)
y luego desde el servidor consulta Toast.

Paso 3 â€” Guarda las credenciales en variables de entorno (Supabase + Next)
TÃº vas a guardar esos secretos como ENV vars (esto es esencial):

TOAST_CLIENT_ID
TOAST_CLIENT_SECRET
(o el equivalente segÃºn lo que te dÃ© Toast)
Si usas Vercel/hosting, esas variables se guardan en el panel del hosting.
Si usas Supabase para funciones/DB, las guardas como secretos ahÃ­.

Regla: cero credenciales en el frontend.

Paso 4 â€” Construye el endpoint /api/metrics por partes (lo mÃ¡s fÃ¡cil)
Como quieres: Net Sales + Labor (regular/OT hours y cost) + labor% + SPLH, tu endpoint harÃ¡ 2 consultas:

Ventas agregadas (Net Sales)
Labor agregada (Regular/OT hours + cost)
Luego calculas:

Labor Cost (A) = regularCost + overtimeCost
Total Hours = regularHours + overtimeHours
Labor % = laborCost / netSales
SPLH = netSales / totalHours
Paso 5 â€” Cache (para que â€œtodas las tiendasâ€ sea rÃ¡pido)
DespuÃ©s de que funcione, agregas cache en Supabase:

guardas el resultado por combinaciÃ³n de filtros
TTL 60â€“120s si incluye hoy
TTL 5â€“15 min histÃ³rico
Lo que sigue ahora mismo (para avanzar ya)
RespÃ³ndeme solo esto:

1) Â¿Ya pudiste crear las credenciales?
SÃ­ / No
2) Â¿QuÃ© â€œlabelsâ€ te muestra Toast al final?
Ejemplos: â€œClient IDâ€, â€œClient Secretâ€, â€œAudienceâ€, â€œToken URLâ€, â€œAPI Keyâ€, etc.
(Solo los nombres de los campos; no pegues los secretos aquÃ­.)

Con eso te doy el siguiente paso exacto para conectar desde Next.js (server-side) a Toast, sin adivinar el mÃ©todo de autenticaciÃ³n.

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



API hostname https://ws-api.toasttab.com Copy User access type TOAST_MACHINE_CLIENT Copy Client ID MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm Copy Client secret (created on 1/17/2026, 3:00 PM) You saved this somewhere safe Rotate
Listo â€” ya tienes lo necesario para conectar backend â†” Toast:

API hostname: https://ws-api.toasttab.com
User access type: TOAST_MACHINE_CLIENT
Client ID / Client secret: (estos van solo en tu backend)
A partir de aquÃ­, el flujo correcto es:

1) Guarda tus credenciales como variables de entorno (Next.js)
En tu proyecto (local y luego en producciÃ³n):

TOAST_API_HOST=https://ws-api.toasttab.com
TOAST_CLIENT_ID=...
TOAST_CLIENT_SECRET=...
Regla: nunca las expongas en el navegador (no las uses en componentes React).

2) Crea tu endpoint backend en Next.js (tu â€œpuenteâ€)
Crea una ruta tipo:

GET /api/metrics
Esta ruta:

Recibe storeIds, startDate, endDate, groupBy
Se autentica contra Toast usando machine client (Client ID/Secret)
Consulta Toast (Sales + Labor)
Devuelve tu JSON agregado (y tÃº calculas labor% y SPLH)
3) â€œAuthâ€ contra Toast (sin inventar endpoints)
AquÃ­ necesito un dato mÃ¡s para darte el paso a paso exacto de autenticaciÃ³n (URL de token, headers y body), porque Toast Central no lista el endpoint exacto; eso viene en el developer guide para Standard API.

1 pregunta (clave)
En la pantalla donde te dio el hostname y el client ID, Â¿ves tambiÃ©n algo como:

Token URL / OAuth URL / Auth URL / Audience / Scopes?
Si sÃ­, dime los labels y el valor (puedes pegar URLs; no pegues tu secret).
Si no aparecen, entonces el siguiente paso es abrir el developer guide desde el link que aparece en â€œStandard API Accessâ€ y ahÃ­ viene el flujo exacto de token.

4) Mientras tanto: arma la base del endpoint (ya puedes hacerlo)
Tu endpoint /api/metrics puede quedar listo con:

validaciÃ³n de fechas
regla de groupBy (week ISO lunes-domingo; year calendario)
cache en Supabase (despuÃ©s)
5) Frontend
Tu dashboard solo harÃ¡ fetch('/api/metrics?...').

Siguiente paso que te propongo (en el chat)
Si me confirmas si ves Token URL/Audience/Scopes (sÃ­/no), te escribo el paso a paso completo para:

obtener token con machine client
hacer una llamada de prueba â€œpingâ€ (Restaurants API suele ser la mÃ¡s fÃ¡cil)
y despuÃ©s ya enchufamos Sales/Labor.
Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



Client Secret Q-efMSxqR2bLWtXcFRapuTITuqfW2H13ycIDiICRRO7PQqmT_T3YDyH7o9ZYvydz API hostname https://ws-api.toasttab.com Copy User access type TOAST_MACHINE_CLIENT Copy Client ID MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm Copy
No pegues tu Client Secret aquÃ­ â€” ya quedÃ³ expuesto en el chat. RÃ³talo ahora mismo en Toast Web (botÃ³n Rotate) y guarda el nuevo en un password manager/Secrets. Luego seguimos con el nuevo.

1) Rotar el secret (hazlo ya)
En Integrations â†’ Manage credentials, abre esas credenciales y usa Rotate para generar un nuevo Client Secret.
DespuÃ©s:

actualiza tus variables de entorno (Next.js/Vercel/Supabase) con el nuevo secret
considera borrar/invalidar cualquier copia vieja donde lo hayas pegado
2) Configura tus ENV vars (con el nuevo secret)
En tu proyecto Next.js:

TOAST_API_HOST=https://ws-api.toasttab.com
TOAST_CLIENT_ID=MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm
TOAST_CLIENT_SECRET=<NUEVO_SECRET>
3) AutenticaciÃ³n: necesito 1 dato para darte el paso exacto
Tu â€œUser access typeâ€ es TOAST_MACHINE_CLIENT, que normalmente implica un flujo de token (machine-to-machine). Pero en Toast Central no viene el endpoint exacto del token; eso viene en el developer guide.

1 pregunta
En la pantalla/portal donde creaste la credencial, Â¿ves algÃºn campo adicional como:

Token URL, Auth URL, Audience, o Scopes?
SÃ­ o no.

Si sÃ­, pÃ©game esos labels y URLs (sin secretos).
Si no, entonces el siguiente paso es abrir el developer guide desde el enlace que aparece en Toast (o el que referencia Toast Central en â€œStandard API Accessâ€), y me dices quÃ© secciÃ³n te aparece para â€œMachine Client / OAuthâ€.
4) Mientras tanto: crea tu endpoint base en Next.js (sin hacer llamadas aÃºn)
Crea GET /api/metrics que solo valide query params:

storeIds
startDate, endDate
groupBy
y regrese 200 con â€œokâ€. Eso ya lo puedes probar hoy.

Si quieres, tambiÃ©n puedo ayudarte a redactar un checklist de seguridad (quÃ© rotar, dÃ³nde guardar secrets, quÃ© nunca subir a Git), pero primero: rota el secret y dime si ves Token URL/Audience/Scopes.


Completed



ESTO ES LO QUE SE VE: Credential name DashboardTEG Locations 15 locations API scopes 13 scopes Edit Location IDs View credentials as JSON API hostname https://ws-api.toasttab.com Copy User access type TOAST_MACHINE_CLIENT Copy Client ID MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm Copy Client secret (created on 1/17/2026, 3:03 PM) You saved this somewhere safe Rotate
Bien â€” ya con eso estamos en el punto correcto. Tienes:

Credencial machine-to-machine (TOAST_MACHINE_CLIENT)
Host https://ws-api.toasttab.com
15 locations incluidas
Scopes (permisos) incluidos
OpciÃ³n â€œView credentials as JSONâ€ (esto es clave)
Y como no te muestra â€œToken URLâ€ a simple vista, el siguiente paso prÃ¡ctico es:

Paso 1) No compartas el secret (y si ya lo compartiste, rÃ³taÂ­lo)
Si en algÃºn momento pegaste el Client secret aquÃ­ o en un lugar pÃºblico, usa Rotate y actualiza el nuevo en tus secretos.

Paso 2) Abre â€œView credentials as JSONâ€ y copia SOLO los campos no sensibles
En esa misma pantalla, haz clic en View credentials as JSON.
Copia y pÃ©game aquÃ­ solo:
apiHost o apiHostname
clientId
cualquier campo que diga tokenUrl, authUrl, oauth, issuer, audience
scopes (lista)
No pegues clientSecret en el chat.
Con ese JSON puedo decirte exactamente cÃ³mo hacer la autenticaciÃ³n desde tu Next.js backend (quÃ© URL llamar para token y quÃ© payload mandar), sin adivinar.

Paso 3) Prepara tu proyecto Next.js (esto sÃ­ lo puedes hacer ya)
A) Variables de entorno (local)
En tu .env.local:

TOAST_API_HOST=https://ws-api.toasttab.com
TOAST_CLIENT_ID=...
TOAST_CLIENT_SECRET=... â† solo aquÃ­ (local), nunca en el frontend
B) Endpoint interno en Next.js
Crea un endpoint server-side:

GET /api/metrics
Por ahora que solo valide parÃ¡metros:

storeIds
startDate, endDate
groupBy
y regrese { ok: true }. Esto te deja listo para â€œenchufarâ€ Toast en el siguiente paso.

Paso 4) Cuando tengamos el token endpoint, conectamos â€œventas + laborâ€
AhÃ­ hacemos:

1 llamada para Sales (Net Sales)
1 llamada para Labor (Regular/OT hours + cost)
Calculas en tu backend: Labor Cost, Total Hours, Labor %, SPLH
Devuelves al frontend â€œlong formatâ€ (store+period)
1 sola cosa que necesito de ti ahora
PÃ©game el contenido de View credentials as JSON pero sin el clientSecret.

Si quieres, pÃ©galo tal cual y yo te digo quÃ© lÃ­neas borrar antes de enviarlo.


Completed



{ "userAccessType": "TOAST_MACHINE_CLIENT", "clientId": "MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm", "clientSecret": "your_client_secret" }
Perfecto â€” gracias por pegar el JSON sin el secret.

Lo que falta para poder decirte â€œhaz esta llamada para sacar el token y luego pega estos endpointsâ€ es que ese JSON no trae la parte mÃ¡s importante: el OAuth/token endpoint (tokenUrl/authUrl/issuer/audience). Sin eso, no debo inventar el flujo.

QuÃ© sigue (paso a paso)
1) En Toast Web: abre el JSON completo y busca estos campos
En Integrations â†’ Manage credentials â†’ DashboardTEG â†’ View credentials as JSON, busca si aparece cualquiera de estos (pueden venir con otro nombre):

tokenUrl
authUrl
oauth
issuer
audience
wellKnown o /.well-known/...
scopes (ya dijiste que tienes 13 scopes; si viene la lista, tambiÃ©n ayuda)
PÃ©game aquÃ­ el JSON de nuevo pero:

âœ… sÃ­ incluye esas claves si aparecen
âŒ NO incluyas clientSecret
Si el JSON no trae nada de eso (solo userAccessType/clientId/secret), entonces vamos por el Plan B.

Plan B (si el JSON no trae tokenUrl): usar el Developer Guide (oficial)
Toast Central indica que Standard API access se usa con un developer guide. AhÃ­ sÃ­ viene el detalle tÃ©cnico (auth + endpoints).

Lo que necesito que hagas
En Toast Web, en esa misma Ã¡rea de credenciales/Standard API, abre el link a Developer guide.
Busca la secciÃ³n Authentication o Machine Client o TOAST_MACHINE_CLIENT.
PÃ©game aquÃ­:
el nombre de la secciÃ³n
y la(s) URL(s) que muestre para autenticaciÃ³n (solo URLs pÃºblicas, sin secretos)
Con eso ya te escribo el paso a paso exacto para Next.js.

Mientras tanto: deja listo tu Next.js backend (esto ya lo puedes avanzar)
Crea .env.local:

TOAST_API_HOST=https://ws-api.toasttab.com
TOAST_CLIENT_ID=...
TOAST_CLIENT_SECRET=... (solo local/servidor)
Crea endpoint GET /api/metrics que por ahora solo valide params y responda { ok: true }.

1 pregunta (para no hacerte brincar entre pantallas)
Â¿En â€œView credentials as JSONâ€ te aparece alguna clave adicional aparte de esas 3 (aunque sea scopes o algo de OAuth)? SÃ­ / No.

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



no aparece developer guide
No pasa nada â€” esto le pasa a mucha gente: Toast Central sÃ­ dice que existe un developer guide, pero en tu pantalla no te lo muestra y el JSON de credenciales no trae tokenUrl. Sin ese dato no debo inventar cÃ³mo pedir el token.

Entonces, el siguiente paso correcto es: pedir el â€œendpoint de autenticaciÃ³n / developer docsâ€ a Toast Support/Integrations, o acceder al Toast Integrations Community (que tambiÃ©n menciona Toast Central). Yo te dejo el plan exacto y quÃ© pedir para que te lo den rÃ¡pido.

âœ… QuÃ© ya tienes listo (y estÃ¡ bien)
Credenciales Standard API (readâ€‘only) con:
Host: https://ws-api.toasttab.com
TOAST_MACHINE_CLIENT
Client ID / Secret
15 locations
Scopes para Labor, Orders, Restaurants, etc.
Esto significa que sÃ­ puedes hacer el dashboard. Solo falta el â€œcÃ³mo autenticarâ€.

Paso 1 â€” Rota el secret si alguna vez lo pegaste fuera (incluye este chat)
Si en algÃºn momento lo compartiste o lo guardaste en un lugar inseguro, usa Rotate y actualiza el nuevo en tus env vars.

Paso 2 â€” Lo que vas a construir en Next.js (puedes avanzar ya)
Crea tu endpoint en Next.js:

GET /api/metrics
Que reciba:

storeIds=all|...
startDate, endDate
groupBy=day|week|month|year
y por ahora solo devuelva { ok: true }.

Esto te deja el â€œesqueletoâ€ listo.

Paso 3 â€” Abre chat con soporte y pide â€œsolo lo necesarioâ€
PÃ­deles esto (cÃ³pialo tal cual):

â€œTengo Standard API credentials (TOAST_MACHINE_CLIENT) con host https://ws-api.toasttab.com. Necesito la documentaciÃ³n oficial (o el token URL / auth URL) para obtener el access token con client credentials y poder llamar a Orders/Labor/Restaurants API. En mi Toast Web no aparece el developer guide ni el token URL en el JSON.â€

Incluye tambiÃ©n:

nombre de la credencial: DashboardTEG
que tiene 15 locations y 13 scopes
Toast Central confirma que, si no basta con el artÃ­culo, puedes ir por soporte de integraciones y/o comunidad (Zendesk) para dudas tÃ©cnicas.
Fuente: Standard API Access.

Paso 4 â€” En cuanto tengas el token URL (o doc), lo conectamos
Cuando soporte te diga el token endpoint y el formato (normalmente â€œclient credentialsâ€), hacemos:

En tu /api/metrics, primero pedir token (server-side)
Llamar 2 recursos:
ventas (net sales)
labor (regular+OT hours/cost)
Calcular:
labor cost, total hours, labor %, SPLH
Devolver JSON â€œlong formatâ€ para tu frontend
âœ… OpciÃ³n para que yo te ayude mÃ¡s rÃ¡pido (sin esperar tanto)
En tu pantalla de credenciales, Â¿hay algÃºn botÃ³n/enlace que diga algo como:

â€œToast Integrationsâ€
â€œZendeskâ€
â€œCommunity forumâ€
â€œRequest supportâ€
â€œAPI documentation siteâ€
Si me dices cuÃ¡l ves, te digo exactamente cuÃ¡l usar y quÃ© seleccionar.

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



donde puedo ver token_url??
No hay un lugar Ãºnico â€œgarantizadoâ€ dentro de Toast Web donde siempre se vea el token_url para Standard API â€” en tu caso, como ya revisamos, no aparece en la pantalla de credenciales ni en el JSON que te muestra Toast Web.

Lo que sÃ­ puedes hacer (en orden, de mÃ¡s rÃ¡pido a mÃ¡s probable):

1) Revisar si aparece en el JSON â€œrealâ€ de credenciales (a veces viene incompleto en la vista)
En Integrations â†’ Manage credentials â†’ DashboardTEG â†’ View credentials as JSON:

Busca cualquier campo parecido a:
tokenUrl
authUrl
issuer
audience
oauth
wellKnown o algo con /.well-known/ Si no aparece nada de eso (como te saliÃ³ a ti), entonces Toast Web no te lo estÃ¡ exponiendo ahÃ­.
2) Usar el canal oficial para obtenerlo (Integrations Support / Community)
Toast Central indica que para Standard API:

si tienes preguntas de diseÃ±o/endpoint/auth, puedes usar el Toast Integrations Zendesk Community Forum
si tienes un problema especÃ­fico (por ejemplo â€œÂ¿cuÃ¡l es mi token URL para TOAST_MACHINE_CLIENT?â€), puedes levantar un caso con Integrations Support usando su formulario (sin compartir secretos)
En tu caso, eso es exactamente lo que falta: el token endpoint / auth docs.

QuÃ© pedir exactamente (cÃ³pialo)
â€œTengo Standard API credentials con userAccessType=TOAST_MACHINE_CLIENT y host https://ws-api.toasttab.com. En Toast Web no me aparece developer guide ni token URL. Â¿Me pueden confirmar el token_url/auth endpoint y el flujo de autenticaciÃ³n (client credentials) para usar Orders/Labor/Restaurants API?â€

3) Alternativa: verificar si tienes acceso a â€œToast Integrationsâ€ portal
En algunas cuentas aparece un enlace/portal separado (no siempre).
Busca dentro de Toast Web algo como:

â€œToast Integrationsâ€
â€œIntegrations Supportâ€
â€œCommunity forumâ€
â€œRequest supportâ€
1 pregunta para darte la ruta exacta dentro de tu pantalla
En Toast Web, cuando estÃ¡s en Integrations â†’ Manage credentials, Â¿ves algÃºn botÃ³n o link que diga â€œToast Integrations Zendeskâ€, â€œCommunity forumâ€ o â€œRequest supportâ€? (sÃ­/no)

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access

Completed



no
Entendido â€” si no te aparece ningÃºn link a developer guide/community/support dentro de esa pantalla, entonces desde Toast Web no vas a poder â€œverâ€ el token_url ahÃ­ mismo.

En tu caso, el camino correcto para obtenerlo (sin adivinar) es a travÃ©s de Toast Integrations Support (porque te falta el dato tÃ©cnico de autenticaciÃ³n para TOAST_MACHINE_CLIENT).

âœ… QuÃ© hacer ahora (paso a paso)
1) Abre chat con soporte desde Toast Web (tÃº ya estÃ¡s en web)
En desktop/web, abre el widget de soporte (esquina inferior derecha).
Pide â€œIntegrations Support / Standard API authenticationâ€.
Chat es 24/7.

2) Copia y pega este mensaje (tal cual)
â€œNecesito el token URL / OAuth endpoint para autenticarme con Standard API usando userAccessType=TOAST_MACHINE_CLIENT.
Mi API hostname es https://ws-api.toasttab.com.
En Toast Web no aparece developer guide ni token URL en â€˜View credentials as JSONâ€™.
Â¿Me pueden confirmar el endpoint de token y el flujo (client credentials) para poder llamar Labor/Orders/Restaurants API?â€

3) Cuando te lo den, me lo pegas aquÃ­
Con solo:

token URL
si requiere audience o scope
si requiere algÃºn header especial
y yo te armo el cÃ³digo exacto en Next.js para:

obtener el token server-side
hacer una llamada de prueba a Restaurants API
luego conectar tu /api/metrics (ventas + labor) con tus filtros.
OpciÃ³n: te conecto con un agente desde aquÃ­
Si quieres, puedo abrirte el chat directamente. Solo dime: Â¿estÃ¡s en Web (computadora) ahora mismo?


Completed



conectame tu, en espaÃ±ol
Para conectarte con un agente de Soporte (en espaÃ±ol) voy a abrir un chat desde tu sesiÃ³n en Toast Web. El agente recibirÃ¡ un resumen con tu caso: que ya creaste credenciales Standard API (TOAST_MACHINE_CLIENT) y necesitas el token URL/OAuth endpoint y el flujo de autenticaciÃ³n porque no aparece en Toast Web.

Â¿Confirmas que lo abra ahora?

Completed Agent Action Results The following changes have been confirmed and saved. Action: We'll start a support chat for you in a new window and give the agent a summary of our discussion so far. Summary of changes: We'll start a support chat for you in a new window and give the agent a summary of our discussion so far.


Completed



ya estoy en developer guide
En tu cuenta, Toast Web no te estÃ¡ mostrando el token_url en la pantalla de credenciales (ni en el JSON bÃ¡sico), y Toast Central tampoco publica ese endpoint directamente (solo dice â€œrevisa el developer guideâ€). Por eso, el token_url solo lo vas a ver dentro del Developer Guide (donde ya estÃ¡s) o te lo confirma Integrations Support.

QuÃ© hacer ahora mismo (paso a paso, sin adivinar)
1) En el Developer Guide, busca la secciÃ³n exacta
Busca en el menÃº (o con Ctrl/Cmd + F) estas palabras:

Authentication
OAuth
Machine client
Client credentials
TOAST_MACHINE_CLIENT
Get access token
Token endpoint
2) Cuando la encuentres, copia y pÃ©game (solo esto)
La lÃ­nea que diga algo como Token URL / Token Endpoint (la URL completa)
Si menciona audience y su valor
Si menciona scope(s) y el formato esperado
El ejemplo de curl o request (sin secrets)
No pegues tu client secret.

3) Con eso, yo te regreso el paso a paso en Next.js
Te escribo exactamente:

cÃ³mo pedir el token server-side (Next.js route handler)
cÃ³mo guardar el token en cache (Supabase)
cÃ³mo hacer la primera llamada de prueba (Restaurants API)
y luego cÃ³mo armar tu /api/metrics (Sales + Labor) con tus filtros
1 pregunta para ubicarte rÃ¡pido
En el Developer Guide, Â¿quÃ© tÃ­tulo ves en la secciÃ³n de autenticaciÃ³n? (por ejemplo: â€œOAuth 2.0â€, â€œClient Credentialsâ€, etc.). PÃ©game el tÃ­tulo y la URL del navegador (solo la URL, sin secretos).

Sources
Standard API Access: https://central.toasttab.com/s/article/Standard-API-Access
API Documentation Site: https://central.toasttab.com/s/article/API-Documentation-Site-Internal

Completed



EN LA GUIA SALE ESTO: Authentication and restaurant access Toast APIs use the OAuth 2 client-credentials grant type to authenticate access to secure resources. When you send requests to secure API resources, you include an OAuth 2 bearer authentication token in the Authorization HTTP header field of your request. Note The authentication endpoint and procedure described here replaced an earlier Toast API authentication service. If your integration uses the legacy authentication endpoint, you must implement support for the authentication process described here. For information about the legacy authentication endpoint and process, see Legacy API authentication (deprecated). About authentication tokens An authentication token is an encoded text string that you can get from the authentication API (/authentication). To request an authentication token, you send the client identifier and client secret in the message body of a POST request to the /authentication/login endpoint of the authentication API (/authentication/v1/authentication/login). Authentication tokens are valid for a limited period of time. The length of time is determined by the Toast API environment that you use. When it returns the token, the authentication API response specifies how long an authentication token is valid. After an authentication token expires, you must get a new token from the authentication API. Getting API credentials Before you can authenticate, you need API credentials. The way you get credentials depends on your integration access type. Credentials include a clientId and clientSecret. The table below shows how credentials are issued for each integration type. For more information, see Integration types. Integration Type Credentials Partner integrations Credentials are created by the Toast integrations team after your application has been reviewed and approved. For more information see, Integration partnership process. Custom integrations Credentials are created by the Toast integrations team after you have been approved for custom integration access. For more information see, Custom integration overview. Standard API access You create your own credentials through Toast Web. For more information, see Creating standard API access credentials. Analytics API access You create your own credentials through Toast Web. For more information, see Creating analytics API access credentials. Credential storage guidelines API credentials provide access to valuable and sensitive information and must be saved in a secure way. If your API credentials are exposed, the Toast integrations team deactivates the compromised credentials and generates new ones. To decrease the likelihood of exposing your API credentials, follow these guidelines for your production and sandbox API credentials. Do this It is best to do the following things: Save your API credentials as environment variables. If your team needs local access to credential strings, share them using a secret management service and store them in local environment variables. Programmatically retrieve your API credentials at runtime from a secret management service. This allows you to rotate credentials without the need to update environment variables. When possible, visually mask your client secret to decrease the likelihood of displaying the secret when you use a screen-sharing service or when other people can see your computer display. Don't do this It is best not to do the following things: Do not store API credentials in your Toast integration code. Do not store API credentials in any repositories saved to the cloud, whether public or private. Do not display your client secret while using a screen-sharing service. Do not send an unencrypted client secret via email or in a messenger application. Indicators of credential compromise If any of the following things occurs, your API credentials are considered compromised. Contact Toast support immediately so that you can receive a new client secret. Your client secret is committed to a repository that is not a purpose-built secret management service. Your client secret is deployed in your code. Somebody sends your client secret in plain text via email or on a messenger application. Your client secret is displayed on a screen-share recording that is saved to the cloud. You have any other known or suspected security breach. Getting an authentication token Making the request To get an authentication token, you send a POST request to the /authentication/login endpoint of the Toast authentication API. The following example shows the URL of the endpoint. https://[toast-api-hostname]/authentication/v1/authentication/login You must include your client identifier and client secret string in the message body of a POST request for an authentication token. You receive a client identifier string (clientId) and client secret string (clientSecret) from the Toast support team. Follow these guidelines when storing your API credentials. When the authentication API determines that the client identifier and client secret string are valid, it returns an authentication token along with a set of data describing the way you can use it. For more information, see Toast API accounts. You include the following JSON object in the message body parameter of an /authentication/login endpoint request. Message body parameter for an /authentication/login endpoint request { "clientId": "myToastApiClientIdentifier",1 "clientSecret": "myToastApiClientSecret",2 "userAccessType": "TOAST_MACHINE_CLIENT"3 } 1 The identifier string for your Toast API client. 2 The secret string that corresponds to your Toast API client. 3 Always include the userAccessType value and set it to TOAST_MACHINE_CLIENT. The following curl command requests an authentication token from the /authentication/login resource. For more information about the curl utility, see https://curl.haxx.se/. Authentication request using curl program command curl -X POST \1 -H "Content-Type: application/json" \2 -d @file-containing-message-body-parameter.json \3 https://[toast-api-hostname]/authentication/v1/authentication/login4 1 Use the POST HTTP method to make an authentication request. 2 Include the HTTP Content-Type header field and set its value to application/json. 3 Include a JSON object including your client identifier and client secret in the message body parameter. See Message body parameter for an /authentication/login endpoint request. 4 Send the request to the /authentication/login endpoint of the authentication API. Authentication return data The return data that you receive depends on the type of Toast API client you are using. Toast APIs support partner clients and restaurant management group clients. For more information about the types of Toast API clients, see Toast API accounts. Authentication return data for a partner API client The authentication API returns the information shown in the following example for a successful authentication request using a partner API client. For more information about partner API accounts, see Toast API accounts. Authentication return data for a partner API client { "@class": ".SuccessfulResponse",1 "token": { "tokenType": "Bearer",2 "scope": null,3 "expiresIn": 19168,4 "accessToken": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXJ0bmVyR35 V3JkZXJzOnYThkYWE5LWIyMDQtNDhhZi1iZDY2LWZiMzZkNzViYjU1NiIsIm5hbWl uZ0F1dGhvcml05NiIGlBFVEVSUEFSVE5FUiIsImF6cCI6InBldGVyLXBhcnRuZXIi LCJzY29wZSI6WyJjcm0iLCJsYWJvciIsImNvbmZpZ3VyYXRpb24iLCJjYXNobWdtd CIsInBhcnRuZXJzIiwiZ3Vlc3QucGk6cmVhZCIsImRlbGlcml05X2luZm8uYWRkcm VzczpyZWFkIiwib3JkZXJzO5NiIGQiLCJvcmRlcnMub3JkZXJzOndyaXRlIiwib3J kZXJzIiwiY3JlZGl0X2NhcmRzLmF1dGhvcml6YXRpb2463JkZXJzOnSwiZXhwIjox NTg4MTc2NDY2LCJqdGkiOiIyMTk4OWQwNS1jNzg4LTQzNWYtODQyMi0xYjRjZTM5O DdlODgiLCJjbGllbnRfaWQiOiJwZXRlci1wYXJ0bmVyIn0.BxROzc5ZyKVgkdsLTF LbyPR_dt5NiIG8vtJd3JkZXJzOnOQiJRtfx6sfse1i2ZG6VWIz_jVOvOiR2zaWra0 yCcml051AVNV3xxn7u4finETPzm43lhf5NiIGYKqUD_HM-Z1B-CCAj-7C6nOGQWI9 G_PYZRsb7lwmJG3tPW74bDKZhYJVnPO3HMNnd93A8AL4QVOVBO6L6BdqsK3lZ7nzY 0hALk-LzyD-w_maz-s2kFx7vbWrp0l2X_gSpEi3JkZXJzOn81T-2bBtz4vkObQm27 iI0Ww8K2ZeRwkSaR8zL2Qo-5NiIGRcml059S1_halz_GuWy4xOctS5WZOuIe5FaA", "idToken": null,6 "refreshToken": null7 }, "status": "SUCCESS"8 } 1 For internal use. 2 The OAuth 2 authentication scheme used for the authentication token. Toast API authentication uses the bearer authentication scheme. 3 The scope value in your authentication token request response will be null. Your JSON Web Token (JWT) contains your list of scopes. 4 The number of remaining seconds that the authentication token is valid. For more information, see Refreshing authentication tokens. 5 A JSON Web Token (JWT) string that contains an authentication token. You present this string when you make requests to other Toast API resources. The JWT includes information about your Toast API client. For more information, see JWT payload contents for partner API client access token. 6 For internal use. 7 For internal use. 8 Indicates that your authentication request was successful. The following example shows the JWT payload contents for a partner API client access token. JWT payload contents for partner API client access token { "https://toasttab.com/client_name": "MYNAMINGAUTHORITY",1 "https://toasttab.com/access_type": "TOAST_MACHINE_CLIENT",2 "https://toasttab.com/partner_guid": "23a8eca9-b403-45bf-cd66-fb36a85be556",3 "https://toasttab.com/type": "CUSTOMER",4 "iss": "[Toast-token-issuer]",5 "sub": "my-client-id@clients",6 "aud": "https://toast-services-api/",7 "iat": 1603107025,8 "exp": 1588176466,9 "azp": "my-client-id",10 "scope": "orders:read menus:read",11 "gty": "client-credentials"12 } 1 A human-readable name representing your API client. 2 The types of users that can authenticate through the system. For API clients, this is TOAST_MACHINE_CLIENT. TOAST_MACHINE_CLIENT represents the type of access credentials issued to services that use Toast APIs. 3 The unique Toast platform identifier for the integration partner organization. 4 The type of client requesting authentication. For partner API clients, this is PARTNER. 5 The issuer of the authentication token. 6 The subject of the token being issued. This value will be set to your client identifier and the string @clients. 7 The intended audience of your API usage. 8 A standard JWT claim indicating the time that the authentication token was issued. The time is presented in UNIX epoch format. 9 A standard JWT claim indicating the time that the authentication token expires. The time is presented in UNIX epoch format. 10 A standard JWT claim containing the identifier for the Toast API client. 11 The API functionality that your client ID is provisioned to use. For more information about API scopes, see API scopes page. 12 The grant type of this API client. This value will be client-credentials. Authentication return data for a restaurant management group API client The authentication API returns the information shown in the following example for a successful authentication request using a restaurant management group API client. For more information about restaurant management group API accounts, see Toast API accounts. Authentication return data for a restaurant management group client { "@class": ".SuccessfulResponse",1 "token": { "tokenType": "Bearer",2 "scope": null,3 "expiresIn": 19168,4 "accessToken": "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwYXJ0bmVyR35 V3JkZXJzOnYThkYWE5LWIyMDQtNDhhZi1iZDY2LWZiMzZkNzViYjU1NiIsIm5hbWl uZ0F1dGhvcml05NiIGlBFVEVSUEFSVE5FUiIsImF6cCI6InBldGVyLXBhcnRuZXIi LCJzY29wZSI6WyJjcm0iLCJsYWJvciIsImNvbmZpZ3VyYXRpb24iLCJjYXNobWdtd CIsInBhcnRuZXJzIiwiZ3Vlc3QucGk6cmVhZCIsImRlbGlcml05X2luZm8uYWRkcm VzczpyZWFkIiwib3JkZXJzO5NiIGQiLCJvcmRlcnMub3JkZXJzOndyaXRlIiwib3J kZXJzIiwiY3JlZGl0X2NhcmRzLmF1dGhvcml6YXRpb2463JkZXJzOnSwiZXhwIjox NTg4MTc2NDY2LCJqdGkiOiIyMTk4OWQwNS1jNzg4LTQzNWYtODQyMi0xYjRjZTM5O DdlODgiLCJjbGllbnRfaWQiOiJwZXRlci1wYXJ0bmVyIn0.BxROzc5ZyKVgkdsLTF LbyPR_dt5NiIG8vtJd3JkZXJzOnOQiJRtfx6sfse1i2ZG6VWIz_jVOvOiR2zaWra0 yCcml051AVNV3xxn7u4finETPzm43lhf5NiIGYKqUD_HM-Z1B-CCAj-7C6nOGQWI9 G_PYZRsb7lwmJG3tPW74bDKZhYJVnPO3HMNnd93A8AL4QVOVBO6L6BdqsK3lZ7nzY 0hALk-LzyD-w_maz-s2kFx7vbWrp0l2X_gSpEi3JkZXJzOn81T-2bBtz4vkObQm27 iI0Ww8K2ZeRwkSaR8zL2Qo-5NiIGRcml059S1_halz_GuWy4xOctS5WZOuIe5FaA", "idToken": null,6 "refreshToken": null7 }, "status": "SUCCESS"8 } 1 For internal use. 2 The OAuth 2 authentication scheme used for the authentication token. Toast API authentication uses the bearer authentication scheme. 3 The scope value in your authentication token request response will be null. Your JSON Web Token (JWT) contains your list of scopes. 4 The number of remaining seconds that the authentication token is valid. For more information, see Refreshing authentication tokens. 5 A JSON Web Token (JWT) string that contains an authentication token. You present this string when you make requests to other Toast API resources. The JWT includes information about your Toast API client. For more information, see JWT payload contents for restaurant management group API client access token. 6 For internal use. 7 For internal use. 8 Indicates that your authentication request was successful. The following example shows the JWT payload contents for a restaurant management group API client access token. JWT payload contents for restaurant management group API client access token { "https://toasttab.com/client_name": "MYNAMINGAUTHORITY",1 "https://toasttab.com/access_type": "TOAST_MACHINE_CLIENT",2 "https://toasttab.com/management_set_guid": "0423ad35-8ba2-45cf-9b6b-7da03f982c46",3 "https://toasttab.com/type": "CUSTOMER",4 "iss": "[Toast-token-issuer]",5 "sub": "my-client-id@clients",6 "aud": "https://toast-services-api/",7 "iat": 1603107025,8 "exp": 1588176466,9 "azp": "my-client-id",10 "scope": "orders:read menus:read",11 "gty": "client-credentials"12 } 1 A human-readable name representing your API client. 2 The types of users that can authenticate through the system. For API clients, this is TOAST_MACHINE_CLIENT. TOAST_MACHINE_CLIENT represents the type of access credentials issued to services that use Toast APIs. 3 The unique Toast platform identifier for the restaurant management group this client can access. 4 The type of client requesting authentication. For restaurant management group API clients, this is CUSTOMER. 5 The issuer of the authentication token. 6 The subject of the token being issued. This value will be set to your client identifier and the string @clients. 7 The intended audience of your API usage. 8 A standard JWT claim indicating the time that the authentication token was issued. The time is presented in UNIX epoch format. 9 A standard JWT claim indicating the time that the authentication token expires. The time is presented in UNIX epoch format. 10 A standard JWT claim containing the identifier for the Toast API client. 11 The API functionality that your client ID is provisioned to use. For more information about API scopes, see the API scopes page. 12 The grant type of this API client. This value will be client-credentials. Using an authentication token To use secured Toast API resources, when you make a request you: Present a valid authentication token in the Authorization HTTP header field when you make a request. An authentication token is a text string that you can get from the /authentication/login endpoint of the authentication API. See Getting an authentication token. The Toast API uses bearer authentication tokens. You must include the string Bearer in the value of the Authorization HTTP header field, before the token string, to indicate the type of the token. For example, Authorization: Bearer [my-authentication-token]. Specify the individual restaurant context for your request in the Toast-Restaurant-External-ID header field. To specify the restaurant that is the subject of a Toast API request, you include the Toast system GUID for that restaurant in the Toast-Restaurant-External-ID HTTP header field. For example, Toast-Restaurant-External-ID: 47286e0a4-4fef-9230-b3dae11e7a9. The following curl command presents an authentication token when it makes a Toast API request. curl -X GET \ -H "Authorization: Bearer eyJzI1NiJ9hbGciOiJSU.eyJhd9yaXR5Ij oiQ1JVTkNIVElNRSIsInJzR3VpZCI6IjE4YzQLCJqdLWFlODItNGFlYy04ND M1LLCJqdRjMjVlYTY2MiIsInNjb3BlIjpbImxWQiOlsidG9hc3QiXSwibmFt aW5nQXV0aGhYm9yIiwib3JkZXJzIiwidXNlcm1nbXQiXSwiZXhwIjoxNDg0M zg5ODUwLCJqdGkiOiJlMDYzZjJkMy1jNGYyLTRiZjItODJmNi01MTg1NWMzZ DAxM2YiLCJjbGllbnRfaWQiOiJjcnVuY2h0aW1lIn0.X1_0y9Hzj5F9gdOw2 o6VSYTyZwooAJiFMDmNakbZrtiUdYwLzuLwLpCMQzX5pKYtOqDUz_cetGJL3 txKL1L-K2j1Enoq8An8hEM6e8J0KdAiwrYFO3W3CmWedLCJqdK9ghNZVCs28 Td2Sp3IxLCJqdbrvanocx9_OT8S9uM8hdSXmBI_ykTWvOVgK4hO24V3DJy4b 9bz1FtgOvrClhELxCe8dJy7jiwAR60xczlCF5rna98RMLN6zY4ffjmljKFZ6 QV0KkVppWjEiJn7oFHiIylCX1sSg7sddrGatj0xJzts3GLCJqdlryUNHaEvJ dWq4Yzwo007AMgxjH9d241Y-g" \ -H "Toast-Restaurant-External-ID: 4721e7a9-b4ae-4fef-9230-b3dae186e0a4" \ https://[toast-api-hostname]/labor/v1/employees
Perfecto â€” con eso ya tienes el token_url y todo el flujo. Te lo traduzco a pasos claros y â€œcopyâ€‘pasteâ€ para tu stack Next.js + Supabase.

âœ… 0) Lo que NO debes hacer
No hagas llamadas a Toast desde el navegador.
No subas tu clientSecret a GitHub.
Si tu secret se filtrÃ³ antes, Rotate en Toast Web.
âœ… 1) Tu token_url (ya confirmado)
Tu token endpoint es:

https://ws-api.toasttab.com/authentication/v1/authentication/login

Y el body que exige es:

{
  "clientId": "TU_CLIENT_ID",
  "clientSecret": "TU_CLIENT_SECRET",
  "userAccessType": "TOAST_MACHINE_CLIENT"
}
âœ… 2) Crea un â€œToast clientâ€ en tu backend (Next.js)
A) Variables de entorno (local)
En .env.local:

TOAST_API_HOST=https://ws-api.toasttab.com
TOAST_CLIENT_ID=MX3ppl7KA8U5xcpQBvx2IbkPJg5q9sIm
TOAST_CLIENT_SECRET=PEGA_AQUI_TU_SECRET
B) FunciÃ³n para pedir el token (server-side)
Crea lib/toastAuth.ts:

export async function getToastAccessToken() {
  const host = process.env.TOAST_API_HOST!;
  const res = await fetch(`${host}/authentication/v1/authentication/login`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      clientId: process.env.TOAST_CLIENT_ID,
      clientSecret: process.env.TOAST_CLIENT_SECRET,
      userAccessType: "TOAST_MACHINE_CLIENT",
    }),
  });

  if (!res.ok) {
    const text = await res.text();
    throw new Error(`Toast auth failed: ${res.status} ${text}`);
  }

  const json = await res.json();
  // token.accessToken y token.expiresIn vienen en la respuesta
  return {
    accessToken: json?.token?.accessToken as string,
    expiresIn: json?.token?.expiresIn as number,
    tokenType: json?.token?.tokenType as string, // "Bearer"
  };
}
âœ… 3) Haz una llamada â€œde pruebaâ€ a Toast (para confirmar que conecta)
La guÃ­a indica que debes mandar:

Header Authorization: Bearer <token>
Header Toast-Restaurant-External-ID: <restaurantId> (una tienda)
Ejemplo: prueba con West Covina = 5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02.

Crea una ruta Next.js: app/api/toast-test/route.ts

import { getToastAccessToken } from "@/lib/toastAuth";

export async function GET() {
  const host = process.env.TOAST_API_HOST!;
  const { accessToken } = await getToastAccessToken();

  const restaurantId = "5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02"; // West Covina (tu lista de 15)
  const res = await fetch(`${host}/labor/v1/employees`, {
    headers: {
      Authorization: `Bearer ${accessToken}`,
      "Toast-Restaurant-External-ID": restaurantId,
    },
  });

  const text = await res.text();
  return new Response(text, { status: res.status });
}
Luego en tu navegador:

http://localhost:3000/api/toast-test
Si responde 200 (o algo con data), ya conectaste.

âœ… 4) Ahora sÃ­: tu endpoint real /api/metrics
AhÃ­ vas a hacer:

pedir token
por cada tienda seleccionada, llamar los recursos necesarios (ventas + labor) con el mismo Toast-Restaurant-External-ID
agregar por groupBy (dÃ­a/semana ISO/mes/aÃ±o calendario)
calcular tus 4 KPIs
devolver JSON al frontend
Tu guÃ­a confirma el header Toast-Restaurant-External-ID y el bearer token; con eso puedes hacer multiâ€‘tienda con un loop.

1 pregunta para seguir (y no equivocarnos con endpoints de ventas/labor)
En tu Developer Guide, Â¿quÃ© secciÃ³n estÃ¡s usando para Sales/Net Sales y para Labor cost/hours?
PÃ©game los paths exactos que ves (ej. /labor/v1/... y el equivalente para ventas). Con eso te armo el /api/metrics completo con tus filtros (rango fechas + week ISO + year calendario).

Fuentes (de lo que citaste del Developer Guide)

Token endpoint: /authentication/v1/authentication/login
Uso de token: header Authorization: Bearer ...
Contexto de restaurante: header Toast-Restaurant-External-ID: <restaurant GUID>

Completed



NO LO SE :( SOLO EN LA GUIA CONSULTE LA PALABRA TOKEN
No pasa nada â€” ya tienes lo mÃ¡s importante (login y headers). Ahora solo te falta ubicar quÃ© endpoints usar para ventas y labor dentro del Developer Guide (porque Toast Central no publica esos paths).

âœ… 1) Ya tienes la autenticaciÃ³n (confirmado)
Token: POST https://ws-api.toasttab.com/authentication/v1/authentication/login
Headers para cualquier llamada:
Authorization: Bearer <accessToken>
Toast-Restaurant-External-ID: 5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02 (o la tienda que toque)
Eso ya lo puedes implementar en Next.js hoy.

âœ… 2) CÃ³mo encontrar los endpoints de ventas y labor (en el Developer Guide)
En el Developer Guide, usa Search (o Ctrl/Cmd+F) y busca estas frases exactas:

Para ventas (Net Sales / orders / guest count)
Busca:

Orders API
Checks
Order totals
Net sales
Refund
Discount
Gross sales
El â€œNet Salesâ€ muchas veces no viene como campo directo; a veces lo calculas desde totales (dependiendo del endpoint).

Para labor (hours y cost)
Busca:

Labor API
Time entries
Shifts
Wage
Labor cost
Overtime
En tu pantalla de scopes ya vimos que tienes Labor API y Orders API, asÃ­ que el endpoint deberÃ­a existir para ti.

âœ… 3) QuÃ© me tienes que pegar para que yo te arme /api/metrics completo
Cuando encuentres la pÃ¡gina correcta del Developer Guide, pÃ©game aquÃ­ solo:

La URL del endpoint (ej: /labor/v1/... o /orders/v2/...)
QuÃ© parÃ¡metros acepta para filtrar por fechas (si dice startDate/endDate, from/to, etc.)
Un ejemplo de request (sin secretos)
Con eso yo te doy el cÃ³digo completo en Next.js:

getToken()
fetchSales(storeId, start, end)
fetchLabor(storeId, start, end)
groupBy day/week ISO/month/year
cÃ¡lculo de tus 4 KPIs
cache en Supabase
âœ… 4) Mientras tanto: prueba que tu token funciona (paso simple)
Como en tu guÃ­a viene el ejemplo GET .../labor/v1/employees, haz primero esa prueba en tu backend para confirmar que ya estÃ¡s autenticando bien (si falla, sabemos que es auth/scopes y no â€œventasâ€).

1 pregunta para avanzar sin perderte
En el Developer Guide, Â¿ves un menÃº lateral con secciones llamadas exactamente â€œOrders APIâ€ y â€œLabor APIâ€? (sÃ­/no)

Si sÃ­: dime cuÃ¡l ves primero y te digo quÃ© pÃ¡gina abrir y quÃ© buscar dentro.
Si no: dime cÃ³mo se llaman las secciones del menÃº (pega 5 tÃ­tulos) y te guÃ­o con eso.
Sources
Standard API Access (confirma que Standard API cubre Orders/Labor/etc y que hay developer guide): https://central.toasttab.com/s/article/Standard-API-Access

Completed



QUE BUSCO EN LA GUIA?
En la guÃ­a, lo que buscas son 3 cosas (en este orden) para poder armar tu dashboard:

1) Los endpoints para â€œventas agregadasâ€ (Net Sales, Orders, Guests)
Busca en el menÃº o con el buscador interno de la guÃ­a estos tÃ©rminos:

Orders API
Orders
Checks
Order totals
Sales
Net sales
Discount
Refund
Lo que necesitas encontrar (y copiar) es:

el path del endpoint (ej. algo como /orders/... o /orders/v.../...)
cÃ³mo se filtra por fechas (ej. startDate/endDate o from/to)
si regresa totales (gross/discount/refund) para poder obtener net sales
Nota: muchas veces â€œNet Salesâ€ no viene como campo directo; se calcula desde los totales del order/check (ventas â€“ descuentos â€“ refunds). Eso lo defines cuando veas quÃ© campos regresa el endpoint.

2) Los endpoints para â€œlaborâ€ (hours y cost)
Busca:

Labor API
Time entries
Shifts
Timesheets
Wage
Overtime
Labor cost
Lo que necesitas copiar de esa secciÃ³n:

endpoint(s) para horas por rango de fechas
si incluye regular/overtime y si incluye cost (regular/overtime cost)
3) CÃ³mo seleccionar la tienda (restaurant context)
TÃº ya lo encontraste en la guÃ­a, pero recuÃ©rdalo porque es obligatorio:

Header: Toast-Restaurant-External-ID: 5f4a006e-9a6e-4bcf-b5bd-7f5e9d801a02 (cambias IQID segÃºn tienda)
Authorization: Bearer <token>
La forma mÃ¡s rÃ¡pida (te ahorro tiempo)
En la guÃ­a, usa el buscador y escribe: â€œnet salesâ€
Si no sale, prueba: â€œorder totalsâ€ o â€œcheckâ€
Cuando encuentres una pÃ¡gina que tenga un endpoint con filtros por fecha, pÃ©game aquÃ­:
el URL completo o path
el ejemplo de request
y 3â€“5 campos de la respuesta (los que parezcan ventas/discount/refund/orders/guests)
Con eso yo te digo â€œese endpoint sirveâ€ o â€œno, ese solo es para detalleâ€, y te armo el /api/metrics.

1 pregunta para orientarte mejor
En tu dashboard, Â¿quieres ventas como:

A) Net Sales por dÃ­a/semana/mes (resumen)
B) lista de Ã³rdenes (muchas filas) y tÃº agregas
Si me dices A o B, te digo exactamente quÃ© tipo de endpoint buscar (resumen vs listado).


Completed



fKuukR6VYyTBhMSNIGkSRynmsm-K5BiPL_n9BoL9YZf_bV4uDU5o0x3F2nGQ8_n_
Ese texto parece un token/secret (algo sensible). No lo pegues aquÃ­.

Haz esto ahora (rÃ¡pido)
Si eso es tu Client Secret o Access Token, trÃ¡talo como comprometido:

Si es Client Secret â†’ ve a Toast Web y dale Rotate (genera uno nuevo).
Si es Access Token â†’ no pasa nada grave (expira), pero evita compartirlo.
BÃ³rralo de donde lo hayas guardado en texto plano y guÃ¡rdalo en un secret manager (Vercel env vars / Supabase secrets / 1Password).